<template>
  <div>
    <div class="module-main">
      <el-skeleton class="mt-10" :rows="8" animated v-if="loading"/>
      <div v-show="!loading" class="flex-left">
        <div class="flex-2">
          <div class="font-s-18">
            <svg t="1682398969024" class="icon-size-20 svg-translateY-4 icon-theme" viewBox="0 0 1024 1024"
                 version="1.1"
                 xmlns="http://www.w3.org/2000/svg" p-id="2153">
              <path
                d="M683.05408 73.19552c-47.64672-26.75712-80.65536-37.49888-113.14688-41.33888-46.56128-6.90688-88.05888-7.76704-126.94016 3.49184-229.84704 66.5344-319.24736 257.82272-206.9504 467.78368 54.62528 102.144 245.888 361.7024 277.66272 388.41344 23.48032-18.78528 232.74496-289.11616 296.10496-420.98688 78.91968-164.25984-10.7776-332.24704-126.73024-397.3632z m71.35232 370.75456c-45.52704 94.75072-172.72832 267.91936-240.60416 353.33632-65.18272-83.48672-184.02304-249.11872-223.60576-323.13344-44.4416-83.08736-53.0432-162.31936-24.87808-229.12512C294.51776 175.7696 363.6736 122.26048 460.0576 94.3616c14.34112-4.15232 30.09024-6.1696 48.1536-6.1696 15.32416 0 32.55808 1.45408 52.68992 4.43904l1.81248 0.24064c19.67104 2.32448 44.22656 8.0384 90.2656 33.8944 80.60416 45.27104 168.59136 177.38752 101.4272 317.184z"
                p-id="2154"></path>
              <path
                d="M512.55808 188.04224c-89.18528 0.65024-161.82272 73.83552-161.82272 163.05152 0.00512 91.20256 75.66336 165.13536 166.90176 163.10272 88.99584-1.98656 160.5632-76.40576 159.2576-165.62176-1.28512-89.10848-75.06944-161.1776-164.33664-160.53248z m3.70688 264.7296c-0.76288 0.01536-1.536 0.0256-2.304 0.0256-56.12032 0-101.78048-45.62432-101.7856-101.7088 0-55.62368 45.23008-101.20704 100.82816-101.61152h0.74752c55.29088 0 100.9152 44.85632 101.7088 99.98336 0.81408 55.73632-43.68384 102.07232-99.19488 103.31136zM770.45248 608.11264a3239.42912 3239.42912 0 0 1-35.68128 51.72736c12.0576 4.8384 23.57248 10.05056 34.304 15.70304 52.224 27.50464 83.4048 62.41792 83.4048 93.40416 0 30.98112-31.1808 65.8944-83.4048 93.39904C703.75936 896.74752 611.93216 916.48 517.13536 916.48s-186.624-19.73248-251.94496-54.12864c-52.224-27.50464-83.4048-62.41792-83.4048-93.39904s31.1808-65.89952 83.40992-93.40416a359.61856 359.61856 0 0 1 30.0544-13.97248 3924.16256 3924.16256 0 0 1-35.57888-51.56352c-85.22752 38.32832-139.32544 95.29344-139.32544 158.94528 0 115.40992 177.64864 208.96768 396.78976 208.96768s396.78464-93.55776 396.78464-208.96768c0-64.69632-55.82336-122.50624-143.46752-160.8448z"
                p-id="2155"></path>
            </svg>
            当前页面&nbsp;/&nbsp;<span class="font-s-14 color-grey">{{ update.pageTitle }}</span>
          </div>
          <div class="mt-10 mb-10">
            <svg t="1729407773747" class="icon icon-theme" viewBox="0 0 1051 1024" version="1.1"
                 xmlns="http://www.w3.org/2000/svg"
                 p-id="42055" width="128" height="128">
              <path
                d="M308.167571 756.896326c44.481169 84.907405 100.462397 164.139873 120.562262 259.456665 1.922831 9.09221 15.791344 5.221927 13.885747-3.828429-20.343605-96.552722-76.942797-176.848779-122.017311-262.901019-4.310983-8.225582-16.741681-0.962647-12.430698 7.272783"
                p-id="42056"></path>
              <path
                d="M337.984997 794.986113c-13.299788-34.30075-30.858857-64.236353-42.021619-100.68644-6.686824-21.45151-33.729563-128.731218-70.214119-119.72764-57.970533 11.408963 96.823543 190.458781 112.198808 218.247509M363.624389 839.450048c0-37.242854-1.784959-61.222851 0.711522-103.505443 2.491556-19.927525 3.358184-99.98969 34.125947-80.653049 37.208386 23.334949-29.849433 139.359723-34.837469 184.158492M382.379996 880.536103c-25.331641-27.33818-40.308059-46.125793-70.883785-75.480362-15.360492-12.891094-70.403693-71.04874-79.855357-35.972456-11.431121 42.420465 116.627967 81.967763 150.739142 111.452818M564.88894 597.030506c-15.18569 142.548028-75.039661 274.62512-105.652318 413.79773-1.974534 9.052818 11.913676 12.89848 13.902982 3.818581 30.88594-140.497173 90.821158-273.672322 106.154568-417.616311 0.987267-9.230083-13.417965-9.138988-14.405232 0"
                p-id="42057"></path>
              <path
                d="M564.194653 644.143566c10.943643-35.09598 15.845509-69.448432 29.782958-104.943258 8.102481-20.949259 53.762954-121.736642 19.582843-137.392576-52.465474-27.163378-42.782381 209.310406-48.048625 240.639508M540.372225 758.678823c19.563147-31.79196 30.644662-53.157299 54.971803-87.940604 12.571033-15.68794 55.350952-83.536065 71.472206-50.870091 19.4819 39.441431-98.670052 103.202616-126.444009 138.810695M484.583035 944.479477c4.884632-11.115984 28.345143-44.742143 49.205771-55.171225 26.858088-13.425351 46.248894-1.504289 71.597768-5.985151 37.294557-7.4402 69.172687-61.631545 96.934334-50.695288 19.42035 11.921062-49.195922 73.084824-95.447278 83.526217-46.224274 10.431545-82.014541-2.979034-122.290595 28.325447M495.49221 884.174957c9.057742-51.320639-18.108098-181.135141-84.528255-187.169533-12.068782 27.16584 39.249394 63.406655 51.320638 93.576149 12.06632 30.206424 27.185536 63.411579 33.207617 93.593384M552.40654 697.662781c18.718677 7.213695-53.918061-168.020004-73.102058-115.970609-8.518561 24.70629 39.443893 55.508521 51.094133 73.673244 7.826736 14.193499 21.938988 28.236815 22.007925 42.297365"
                p-id="42058"></path>
              <path
                d="M309.967301 40.990037c10.616195 167.933833 64.47763 333.147144 113.188537 493.084362 47.300173 155.31356 105.078669 311.730102 129.718484 472.772764 0.913406 5.992537 10.003154 3.441893 9.102058-2.511252-24.238507-158.393537-80.682593-312.372687-127.382035-465.086363-49.378111-161.458742-104.475476-328.661358-115.192614-498.259511-0.376688-6.041777-9.830814-6.088555-9.43443 0"
                p-id="42059"></path>
              <path
                d="M445.885132 617.479977c9.833276-32.914637 14.959184-54.462166 27.805962-91.333256 6.92564-17.078977 28.640585-87.664859 44.259589-64.39146 18.888555 28.081708-56.882324 117.140065-72.065551 155.724716M440.865089 564.583651c-23.859358-47.831968-146.861473-149.857742-183.880284-102.624043-8.102481 22.849933 71.02412 28.268821 99.384035 45.778649 28.379611 17.507367 61.08744 35.645009 84.496249 56.845394M356.873553 318.921639c-4.830467 19.34649-55.614387 24.194191-79.803655 16.933718 21.766647 0 43.528371 0 62.889633-12.100789-21.783882-2.430006-38.700365-21.759261-53.209002-41.103289 19.341566 9.658473 38.683131 16.909098 58.037007 19.344028-9.678169-7.262935-16.933718-19.344028-21.783881-29.029583 24.206501 16.941104 43.548067 16.941104 55.634083-14.50125-2.41031 12.098327-4.830467 26.594653-9.660935 38.692979 14.491402-2.427544 29.0025-9.678169 38.68067-21.759261-2.42262 14.508636-12.088479 26.594653-26.594653 33.845278 14.506174 4.850163 29.017273 2.412772 43.528371-2.417696-12.105713 21.78142-45.953453 16.928794-67.717638 7.267859h12.10325M338.657126 225.616311c-3.011041 12.049086-34.645432 15.079823-49.722792 10.562031 13.573072 0 27.131371 0 39.180457-7.546067-13.573072-1.489517-24.103097-13.555838-33.141142-25.629544 12.034314 6.046701 24.103097 10.566955 36.154645 12.073707-6.024543-4.520254-10.542335-12.073706-13.5583-18.08594 15.065051 10.552183 27.116599 10.552183 34.645432-9.052818-1.504289 7.553453-2.996269 16.56934-6.022081 24.125255 9.05528-1.506751 18.093326-6.031929 24.117869-13.563224-1.506751 9.04297-7.533756 16.574264-16.569341 21.087133 9.038046 3.030737 18.078554 1.506751 27.1166-1.50429-7.533756 13.560762-28.640585 10.547259-42.198885 4.535026h7.536219M326.312599 129.398423c-2.373379 9.503366-27.249548 11.88167-39.094288 8.306828 10.648202 0 21.311175 0 30.802231-5.933449-10.665436-1.176842-18.957492-10.650664-26.07763-20.139257 9.488594 4.727063 18.962416 8.29698 28.45101 9.488594-4.744297-3.567455-8.29698-9.488594-10.667898-14.227967 11.844739 8.28467 21.330871 8.28467 27.254472-7.102905-1.179304 5.903905-2.373379 13.026505-4.746759 18.947644 7.117676-1.181766 14.215657-4.744297 18.974726-10.648201-1.191614 7.088132-5.935911 13.031429-13.033891 16.586574 7.09798 2.368455 14.213195 1.194076 21.313637-1.176842-5.903905 10.643278-22.510175 8.274822-33.178072 3.545297h5.921138"
                p-id="42060"></path>
              <path
                d="M314.246278 117.364108c-7.01181-2.454626-13.090517-6.834545-17.332564-12.967416-2.45955-3.545297-8.311752-0.169879-5.817734 3.412348 5.29825 7.632237 12.588267 12.987113 21.350567 16.04247 4.116484 1.455049 5.866974-5.049586 1.799731-6.487402M316.811695 115.948452c16.864782-4.227274 27.232314-18.420773 30.903173-34.857165 0.955261-4.219888-5.556761-6.019619-6.492325-1.782497-3.166147 14.200885-11.51483 26.464166-26.198269 30.147336-4.224812 1.056203-2.42262 7.543605 1.787421 6.492326M312.63366 212.023543c-8.777073-4.574418-13.782343-11.93091-18.125331-20.565186-1.957299-3.882593-7.775034-0.472706-5.837431 3.402501 4.867398 9.609233 10.823004 17.888979 20.57011 22.980419 3.845663 2.011464 7.238315-3.80627 3.392652-5.817734M345.13468 224.471475c10.077015-12.639969 16.884478-27.247086 22.286132-42.415541 1.452587-4.109098-5.059435-5.852202-6.494788-1.784959-4.985574 13.971918-11.236622 27.761646-20.552875 39.438969-2.686055 3.363108 2.04347 8.178804 4.761531 4.761531M348.094018 293.905136c-13.971918-5.012656-26.33368-14.927178-34.246586-27.48344-2.301981-3.668398-8.136949-0.292979-5.815272 3.412349 8.880477 14.114714 22.61358 24.954953 38.281823 30.558492 4.09925 1.472283 5.84974-5.037276 1.780035-6.487401"
                p-id="42061"></path>
              <path
                d="M348.094018 297.989613c17.989921-3.146451 30.319677-17.470437 38.30152-32.983573 1.991768-3.872745-3.825967-7.290017-5.817735-3.404963-7.253087 14.090094-17.886517 27.023043-34.26382 29.886363-4.276515 0.738604-2.462012 7.228467 1.780035 6.502173M280.100635 92.069398c-11.4779-13.799577 10.34045-21.815888 9.17838-1.159608 13.787267-22.958261 34.455857 4.611348 9.193153 4.611349 21.835584-2.304443 4.591652 31.00904-9.193153 9.193152-4.586728 19.528679-26.405078 5.72664-12.620273-4.611348-6.893633-1.139912-11.480362-5.741412-12.639969-12.644893 8.031083-5.72664 13.779881-3.419735 16.081862 4.611348M306.020696 40.990037c-11.497596-13.782343 10.335526-21.815888 9.195615-1.159608 13.762647-22.943489 34.455857 4.611348 9.175918 4.611348 21.833122-2.304443 4.586728 31.00904-9.175918 9.190691-4.606424 19.508982-26.422312 5.743874-12.642431-4.608887-6.908405-1.142374-11.497596-5.743874-12.63997-12.622735 8.033545-5.72664 13.782343-3.439431 16.086786 4.589191M363.28217 116.243893c-11.4779-13.802039 10.335526-21.838046 9.19069-1.147298 13.784805-22.992729 34.455857 4.57688 9.195615 4.576881 21.813426-2.287209 4.586728 31.00904-9.195615 9.193152-4.586728 19.531141-26.41985 5.743874-12.642431-4.594114-6.888709-1.159608-11.475438-5.743874-12.620273-12.639969 8.036007-5.743874 13.784805-3.439431 16.072014 4.611348M281.314407 183.816272c-14.491402-17.384266 13.036353-27.525293 11.601-1.455049 17.384266-28.985266 43.456972 5.8005 11.583766 5.8005 27.527755-2.910098 5.798038 39.113983-11.583766 11.588691-5.820196 24.632429-33.347952 7.248163-15.946451-5.800501-8.690902-1.435353-14.47663-7.240777-15.948914-15.911983 10.145951-7.258011 17.384266-4.362685 20.294365 5.778342"
                p-id="42062"></path>
              <path
                d="M356.994191 160.97865c-14.491402-17.4015 13.038815-27.525293 11.586228-1.450125 17.381804-28.970494 43.45451 5.795576 11.598538 5.795576 27.530217-2.907636 5.783266 39.113983-11.598538 11.58869-5.785728 24.632429-33.313483 7.233391-15.931679-5.783266-8.690902-1.459973-14.493864-7.260473-15.946451-15.946451 10.165647-7.258011 17.381804-4.333141 20.291902 5.795576M386.237969 214.291056c-14.491402-17.384266 13.038815-27.525293 11.603462-1.455049 17.36457-28.987728 43.4422 5.798038 11.583766 5.798038 27.530217-2.890402 5.780804 39.096749-11.583766 11.58869-5.8005 24.634891-33.330717 7.250625-15.951375-5.783266-8.68844-1.452587-14.48894-7.258011-15.929217-15.946451 10.133641-7.258011 17.386728-4.345451 20.27713 5.798038M285.29548 290.367224c-18.07363-13.642008 6.423389-29.77311 10.941181-4.047547 10.337988-32.190806 43.651471-4.271591 12.607963 2.976572 26.158877-9.087286 14.577573 36.752914-8.62689 13.939912-0.051702 25.299635-30.817003 14.661281-16.845085-2.004078-8.811541 0.563801-15.754414-3.759492-19.147067-11.896442 8.22312-9.372879 15.943989-8.176342 21.069898 1.031583"
                p-id="42063"></path>
              <path
                d="M359.99046 260.155876c-18.058857-13.622312 6.423389-29.775572 10.960877-4.069706 10.318292-32.188344 43.631775-4.254357 12.603039 3.015965 26.144105-9.106982 14.562801 36.755376-8.6392 13.917753-0.034468 25.316869-30.802231 14.631737-16.847548-2.004077-8.796769 0.563801-15.756876-3.759492-19.147066-11.896442 8.237892-9.370417 15.943989-8.188652 21.069898 1.036507M400.608732 305.397807c-18.058857-13.639546 6.425851-29.778034 10.980574-4.069705 10.301058-32.168648 43.631775-4.237123 12.603039 3.018426 26.126871-9.106982 14.543104 36.752914-8.661358 13.915292-0.032006 25.302097-30.802231 14.651433-16.827852-2.004078-8.794307 0.568725-15.756876-3.75703-19.149529-11.896442 8.228044-9.367955 15.929217-8.191114 21.055126 1.036507M315.506828 46.652664c0.349606-0.324986 0.694287-0.686901 1.038969-1.034045 3.082439-3.084901-1.693864-7.848894-4.761531-4.778765-0.347144 0.361916-0.691825 0.709059-1.036507 1.056203-3.082439 3.082439 1.696326 7.84397 4.759069 4.756607M281.939758 94.093172c0.347144-0.524409 0.241277-0.381612-0.349606 0.398846a4.274053 4.274053 0 0 0-0.691825 1.696326c-0.8814 4.229736 5.608463 6.041777 6.494787 1.777573-0.364378 0.524409-0.258511 0.398846 0.32991-0.388998 0.359454-0.524409 0.568725-1.063589 0.709059-1.684017 0.883862-4.237123-5.613387-6.044239-6.492325-1.79973M375.503597 119.840892v-1.01681c0-4.345451-6.733603-4.345451-6.733603 0v1.01681c-0.002462 4.345451 6.733603 4.345451 6.733603 0M370.38015 167.783651c0.347144-0.347144 0.709059-0.669667 1.058665-1.019273 3.077515-3.084901-1.681554-7.829198-4.778765-4.778765-0.347144 0.347144-0.694287 0.691825-1.041431 1.019273-3.102135 3.087363 1.681554 7.848894 4.761531 4.778765M290.352452 188.959415h-1.036507c-4.350375 0-4.350375 6.740989 0 6.740989h1.036507c4.345451 0 4.345451-6.740989 0-6.740989"
                p-id="42064"></path>
              <path
                d="M368.006771 269.21608c4.347913 0 4.347913-6.758223 0-6.758223-4.345451 0.002462-4.345451 6.758223 0 6.758223M395.950606 223.639315c4.365147 0 4.365147-6.736065 0-6.736064-4.342989 0.002462-4.342989 6.736065 0 6.736064M408.383766 316.846163c4.347913 0 4.347913-6.755761 0-6.755761-4.345451 0-4.345451 6.755761 0 6.755761M292.43039 297.157453c4.328217 0 4.328217-6.753299 0-6.753298-4.367609 0-4.367609 6.753299 0 6.753298M256.192037 65.24824c4.345451 0 4.345451-6.753299 0-6.753299-4.347913 0-4.347913 6.753299 0 6.753299M377.323024 77.661704c4.347913 0 4.347913-6.718831 0-6.71883-4.345451 0.002462-4.345451 6.718831 0 6.71883M298.624812 151.179842c4.347913 0 4.347913-6.736065 0-6.736064-4.342989 0-4.342989 6.736065 0 6.736064M285.174841 258.858396c4.347913 0 4.347913-6.733603 0-6.733603s-4.347913 6.733603 0 6.733603M423.914137 267.13568c4.347913 0 4.347913-6.736065 0-6.736065-4.345451 0-4.345451 6.736065 0 6.736065M337.984997 365.49798c4.345451 0 4.345451-6.753299 0-6.753298s-4.345451 6.753299 0 6.753298M828.24297 213.931602c-69.071745 97.680323-112.996499 213.160992-157.423505 323.424659-43.129525 107.063051-80.9608 219.446509-139.20954 319.564224-2.181343 3.742258 4.000769 6.374149 6.137796 2.666359 57.303328-98.465705 94.789921-208.89925 137.10452-314.256127 44.727371-111.40604 88.861396-228.536257 158.602808-327.18415 2.491556-3.528063-2.720523-7.755338-5.212079-4.214965"
                p-id="42065"></path>
              <path
                d="M646.162416 593.672322c20.156492-13.841431 32.601962-23.460512 56.165878-38.168571 11.463128-6.339681 54.974264-35.716407 53.24347-15.877515-2.09271 23.977534-83.78719 39.458665-109.409348 54.046086M667.008271 562.124101c8.124639-37.09021-14.405232-148.454395-55.959069-138.845163-14.717907 9.033122 26.663589 47.337103 34.559261 69.687248 7.898134 22.359992 17.896365 46.997346 21.399808 69.157915M730.173649 388.697519c-11.325255 8.538257-41.593229-11.440969-51.736719-26.264743 12.0417 9.734795 24.083401 19.442508 40.184959 21.385035-10.958415-11.06182-11.687171-29.310252-11.081516-46.509867 6.391383 13.994076 13.853741 26.631583 23.480208 36.627351-2.119792-8.348682-0.728756-18.273053 0.915868-25.782189 5.807886 20.163878 16.527486 28.793229 37.242855 16.78846-6.718831 5.610925-14.543104 12.553799-22.61358 17.108521 9.106982 5.123447 20.370687 7.570687 31.114907 5.217003-7.80704 6.955184-18.541412 9.333487-29.814965 6.869013 5.869436 9.146374 14.978881 14.272283 25.156838 18.078554-16.394537 6.647432-32.981112-11.138142-40.701981-26.195807 2.681131 2.161646 5.367186 4.315907 6.701597 5.404116M761.72187 328.932179c-7.046278 5.317946-25.902827-7.134911-32.225275-16.362531 7.496826 6.041777 15.013349 12.108175 25.031276 13.317023-6.829621-6.893633-7.282631-18.265666-6.903482-28.963109 3.983535 8.703212 8.644124 16.601346 14.631737 22.795769-1.317176-5.192383-0.450548-11.372033 0.571187-16.052318 3.63393 12.568571 10.283824 17.945605 23.202 10.463551-4.190344 3.483747-9.057742 7.824274-14.095018 10.645739 5.677399 3.208002 12.691671 4.722139 19.390806 3.26709-4.867398 4.320831-11.566532 5.807886-18.578342 4.286363 3.653626 5.68971 9.331025 8.900173 15.668244 11.268628-10.214887 4.13618-20.533179-6.942874-25.348875-16.340373 1.66432 1.346721 3.323716 2.695903 4.17311 3.36557M797.819888 270.163955c-5.556761 4.192806-20.375611-5.610925-25.346412-12.861551 5.903905 4.756607 11.788113 9.518138 19.703481 10.466013-5.38442-5.416426-5.748798-14.370764-5.453356-22.780996 3.129217 6.864089 6.805001 13.060973 11.512367 17.943143-1.041431-4.08694-0.347144-8.954337 0.453011-12.622736 2.855934 9.86282 8.102481 14.092556 18.248432 8.225582-3.289248 2.747605-7.120138 6.145182-11.081516 8.380689 4.46609 2.506328 9.990844 3.722562 15.252164 2.562954-3.825967 3.392652-9.089748 4.562108-14.614503 3.358185 2.87563 4.505482 7.34172 7.014272 12.329756 8.868167-8.036007 3.249856-16.155722-5.473053-19.964455-12.849241 1.317176 1.056203 2.649125 2.12964 3.29171 2.663897"
                p-id="42066"></path>
              <path
                d="M796.507636 258.112406c-2.764839-4.483324-4.17311-9.626467-3.811194-14.90502 0.224043-3.060281-4.493172-3.803808-4.727063-0.711521-0.485016 6.576034 1.179304 12.817234 4.667974 18.403539 1.617542 2.651587 5.495211-0.167417 3.870283-2.786998M798.565878 258.476784c11.23416 5.177611 23.285709 1.959761 32.653664-5.500135 2.407848-1.908059-0.37915-5.820196-2.806693-3.885054-8.068013 6.425851-18.1598 9.493518-27.943836 4.99296-2.806694-1.302404-4.709829 3.079977-1.903135 4.392229M753.392883 309.785113c-2.821466-6.445547-2.304443-12.740912-0.86909-19.479439 0.645047-3.011041-4.084478-3.722562-4.741835-0.709059-1.592922 7.47713-1.991768 14.735141 1.12514 21.882362 1.231006 2.841162 5.71433 1.125139 4.485785-1.693864M765.826043 331.182458c11.199692-2.489094 21.485978-7.546067 31.247856-13.538603 2.634353-1.612618-0.189575-5.487825-2.804232-3.899827-8.983882 5.539527-18.61281 10.369994-28.968032 12.676899-2.98642 0.657357-2.506328 5.436122 0.524408 4.761531M736.476399 370.934103c-5.505059-9.025736-7.93014-20.016157-6.701596-30.504328 0.364378-3.045509-4.379919-3.791498-4.727063-0.709059-1.400885 11.773341 1.351645 23.91106 7.533756 33.99546 1.607694 2.656511 5.485363-0.164955 3.894903-2.782073"
                p-id="42067"></path>
              <path
                d="M734.65451 373.186844c11.342489 6.307675 24.563493 3.865359 35.893672-1.179304 2.821466-1.243316 1.125139-5.72664-1.679092-4.46609-10.30352 4.559646-21.973456 6.977342-32.308982 1.270398-2.700827-1.509213-4.6015 2.883016-1.905598 4.374996M788.904943 228.868629c-0.209271-12.755684 15.458973-7.462358 5.591229 3.466512 17.876669-6.57111 17.019888 17.916061 3.045509 6.649895 13.107751 8.466859-11.308021 19.218465-9.19069 0.965108-11.256319 8.759838-17.179919-8.607194-4.936334-8.173879-3.308944-3.722562-3.811194-8.306828-1.351645-12.622735 7.014272 0.401308 9.161146 4.249433 6.841931 9.715099M826.044393 212.17865c-0.206809-12.758146 15.458973-7.479592 5.608463 3.449278 17.869283-6.553876 17.019888 17.933295 3.030737 6.649895 13.102827 8.466859-11.308021 19.218465-9.195615 0.982342-11.251394 8.7623-17.174995-8.604732-4.931409-8.188651-3.308944-3.705328-3.79396-8.289594-1.354107-12.622735 6.994576 0.413618 9.161146 4.244509 6.841931 9.729871M824.153568 279.381727c-0.187113-12.780304 15.481131-7.467282 5.610925 3.464051 17.884055-6.566186 17.017426 17.896365 3.028275 6.647432 13.110214 8.466859-11.290787 19.220927-9.193153 0.972495-11.253857 8.754914-17.177457-8.609656-4.933872-8.178804-3.306482-3.705328-3.791498-8.306828-1.351644-12.637507 7.014272 0.408694 9.17838 4.242047 6.839469 9.732333M748.62889 280.189267c-0.241277-16.0794 19.513907-9.417196 7.080746 4.362685 22.544643-8.27236 21.453972 22.61358 3.830891 8.392999 16.515176 10.690056-14.252587 24.231121-11.603462 1.250702-14.200885 11.029813-21.660781-10.869783-6.231352-10.335526-4.155876-4.687671-4.778765-10.480785-1.696327-15.929217 8.848471 0.524409 11.566532 5.354876 8.619504 12.258357"
                p-id="42068"></path>
              <path
                d="M800.69798 301.330564c-0.246201-16.096634 19.511445-9.414734 7.078285 4.365147 22.542181-8.27236 21.453972 22.611118 3.81858 8.392998 16.529948 10.690056-14.240277 24.228659-11.591152 1.233468-14.198423 11.044585-21.668167-10.872245-6.233814-10.30352-4.155876-4.707367-4.776303-10.493095-1.693864-15.966147 8.843547 0.541643 11.561608 5.37211 8.621965 12.278054M793.095288 343.888902c-0.243739-16.0794 19.511445-9.414734 7.080746 4.365147 22.544643-8.27236 21.45151 22.611118 3.808732 8.375764 16.537334 10.692518-14.250125 24.248355-11.581304 1.253164-14.200885 11.044585-21.680477-10.872245-6.231352-10.320753-4.158338-4.687671-4.781227-10.478323-1.718484-15.929218 8.868167 0.521947 11.56407 5.352414 8.641662 12.255896M703.281093 340.946797c-3.909675-15.599308 16.847548-13.622312 7.878438 2.634353 20.085093-13.193922 26.060396 17.125755 5.618311 7.285094 18.553722 6.630198-8.319138 26.831006-10.985497 3.86782-11.305559 13.969456-23.583612-5.650317-8.415157-8.646586-5.125909-3.596999-7.046278-9.102058-5.295788-15.114291 8.72537-1.523985 12.484862 2.577726 11.199693 9.97361"
                p-id="42069"></path>
              <path
                d="M758.117484 357.553068c-3.909675-15.60177 16.827852-13.60754 7.878438 2.636815 20.050625-13.196384 26.043162 17.123293 5.62816 7.302327 18.52664 6.630198-8.348682 26.838392-10.995346 3.848125-11.308021 13.989152-23.566378-5.645393-8.432391-8.62689-5.125909-3.596999-7.029044-9.102058-5.281015-15.131525 8.72537-1.514137 12.484862 2.575264 11.202154 9.971148M760.404693 400.739219c-3.897365-15.623928 16.825389-13.610002 7.89321 2.629429 20.053087-13.19146 26.023466 17.135603 5.608464 7.285093 18.52664 6.649894-8.34622 26.853164-10.992884 3.862897-11.308021 13.991614-23.58115-5.642931-8.415156-8.621966-5.125909-3.616696-7.046278-9.124216-5.29825-15.131525 8.745066-1.528909 12.484862 2.580188 11.204616 9.976072M828.759992 219.540065c0.349606-0.039392 0.709059-0.07386 1.056203-0.108328 3.065205-0.344682 2.562954-5.108675-0.517022-4.761531-0.35453 0.017234-0.701673 0.07386-1.041431 0.108328-3.079977 0.332372-2.560492 5.088979 0.50225 4.761531M789.01081 230.825928c0.430852-0.142797 0.310214-0.120639-0.349606 0.056626a3.018427 3.018427 0 0 0-1.16207 0.617965c-2.380766 1.959761 0.41608 5.869436 2.806694 3.899827-0.433314 0.115715-0.310214 0.09848 0.35453-0.068936 0.443162-0.125563 0.787844-0.32991 1.134987-0.630275 2.390614-1.932679-0.408694-5.84974-2.784535-3.875207M829.316407 286.821927c0.155107-0.187113 0.310214-0.364378 0.46532-0.568724 1.930217-2.41031-1.797269-5.406578-3.739796-3.011041-0.155107 0.184651-0.310214 0.398846-0.450548 0.583497-1.954837 2.412772 1.787421 5.39673 3.725024 2.996268M805.075438 311.082593c0.347144-0.039392 0.691825-0.091094 1.038969-0.108329 3.082439-0.310214 2.560492-5.088979-0.502251-4.778765a9.88744 9.88744 0 0 1-1.041431 0.108329c-3.077515 0.307751-2.560492 5.086517 0.504713 4.778765M751.349413 287.080439l-0.571186-0.467783c-2.407848-1.935141-5.418888 1.780035-3.011041 3.722562 0.189575 0.160031 0.376688 0.310214 0.566263 0.489941 2.407848 1.920369 5.411502-1.799731 3.015964-3.74472"
                p-id="42070"></path>
              <path
                d="M758.499096 366.138103c2.407848 1.944989 5.42135-1.777573 3.015965-3.722562-2.41031-1.940065-5.404116 1.782497-3.015965 3.722562M794.306597 353.411964c2.398 1.942527 5.416426-1.794807 3.015965-3.742258-2.41031-1.937603-5.426274 1.802193-3.015965 3.742258M759.609463 410.530641c2.405386 1.944989 5.399192-1.777573 2.996269-3.720101-2.402924-1.937603-5.401654 1.782497-2.996269 3.720101M704.199423 347.869975c2.407848 1.944989 5.42135-1.777573 3.015965-3.737334-2.407848-1.920369-5.42135 1.802193-3.015965 3.737334M787.637007 203.347413c2.41031 1.944989 5.423812-1.797269 3.015965-3.742258-2.407848-1.920369-5.42135 1.804655-3.015965 3.742258M849.140527 264.294518c2.407848 1.944989 5.416426-1.777573 3.013503-3.739796-2.407848-1.940065-5.42135 1.799731-3.013503 3.739796M772.783689 269.853741c2.402924 1.942527 5.418888-1.782497 3.013503-3.725024-2.407848-1.937603-5.42135 1.784959-3.013503 3.725024M717.292402 323.439431c2.398 1.944989 5.401654-1.777573 3.015965-3.722562-2.430006-1.937603-5.426274 1.784959-3.015965 3.722562M790.35753 389.948221c2.400462 1.940065 5.42135-1.782497 3.015965-3.725024-2.407848-1.957299-5.42135 1.784959-3.015965 3.725024M698.920869 406.030083c2.398 1.944989 5.399192-1.777573 2.996269-3.722562-2.388152-1.937603-5.404116 1.784959-2.996269 3.722562"
                p-id="42071"></path>
            </svg>
          </div>
          <div class="mr-20">
            <div class="mb-20 color-stand-out"><i class="el-icon-edit"></i>名言分类
              <hr class="hr-item mt-6 mb-8"/>
              <p class="font-s-14 color-grey">
                选择对应的分类，更方便大家筛选到名言。
              </p>
            </div>
            <div class="mb-20 color-stand-out"><i class="el-icon-edit"></i>专辑
              <hr class="hr-item mt-6 mb-8"/>
              <p class="font-s-14 color-grey">
                合理创建专辑更方便名言的管理。
              </p>
            </div>
            <div class="color-stand-out"><i class="el-icon-edit"></i>标签
              <hr class="hr-item mt-6 mb-8"/>
              <p class="font-s-14 color-grey">
                添加与名言相关的标签，如作者，作品名称，与作品相关的热词，名言更容易被检索到。
              </p>
            </div>
          </div>
        </div>
        <div class="release-dictum-index flex-10">
          <el-form :model="dictumInfo" :rules="rules" ref="dictumInfo" label-width="100px" class="demo-ruleForm">
            <el-form-item label="名言分类：" prop="groupId">
              <div>
                <el-radio-group :border="false" v-model="dictumInfo.groupId">
                  <el-radio-button v-for="(item,index) in dictumGroupListArr" :key="index" :label="item.id"
                                   style="margin:0 10px 10px 0;">
                    {{ item.name }}
                  </el-radio-button>
                </el-radio-group>
              </div>
            </el-form-item>
            <el-row>
              <el-col :span="10">
                <el-tooltip class="item" content="名言的作者名称" placement="top-end" effect="light">
                  <el-form-item label="名言作者：" prop="author">
                    <el-input v-model="dictumInfo.author" clearable></el-input>
                  </el-form-item>
                </el-tooltip>
              </el-col>
              <el-col :span="14">
                <el-tooltip class="item" content="名言出处的作品名称" placement="top-end" effect="light">
                  <el-form-item label="作品名称：" prop="worksName">
                    <el-input v-model="dictumInfo.worksName" clearable></el-input>
                  </el-form-item>
                </el-tooltip>
              </el-col>
            </el-row>
            <el-form-item label="名言：" prop="content">
              <!--              <el-input type="textarea" maxlength="500"-->
              <!--                        :rows="8"-->
              <!--                        clearable-->
              <!--                        show-word-limit v-model="dictumInfo.content"></el-input>-->
              <div style="border: 1px solid #DCDFE6;border-radius: 2px">
                <ai-editor-module
                  v-if="!loading"
                  :id="'dictum-editor'"
                  :htmlContent.sync="dictumInfo.content"
                  :mdContent.sync="dictumInfo.contentMd"
                  :content="dictumInfo.content"
                  :minimalistMode="false"
                  :editor-height="'300px'"></ai-editor-module>
              </div>
            </el-form-item>
            <el-row>
              <el-col :span="10">
                <el-form-item label="收录专辑：" prop="albumId">
                  <el-select v-model="dictumInfo.albumId" filterable placeholder="请选择">
                    <el-option
                      v-for="item in dictumAlbumListArr"
                      :key="item.id"
                      :label="item.name"
                      :value="item.id">
                    </el-option>
                  </el-select>
                  <el-button class="ml-6" size="medium" icon="el-icon-plus" circle title="添加专辑"
                             @click="dialogVisible = true"></el-button>
                </el-form-item>
              </el-col>
              <el-col :span="14">
                <el-form-item label="标签：" prop="albumId">
                  <el-tag
                    v-for="(tag,index) in dynamicTags"
                    closable
                    :disable-transitions="false"
                    @close="handleClose(tag)" :key="index">
                    {{ tag }}
                  </el-tag>
                  <el-input
                    class="input-new-tag"
                    v-if="inputVisible"
                    v-model="inputValue"
                    ref="saveTagInput"
                    size="small"
                    @keyup.enter.native="handleInputConfirm"
                    @blur="handleInputConfirm"
                  >
                  </el-input>
                  <el-button v-if="!inputVisible && addVisible" class="button-new-tag" size="small"
                             @click="showInput">+
                    添加标签
                  </el-button>
                </el-form-item>
              </el-col>
            </el-row>
            <el-form-item label="名言类型：" prop="dictumState">
              <el-radio-group v-model="dictumInfo.dictumState">
                <el-radio :label="1">公开</el-radio>
                <el-radio :label="2">私有</el-radio>
                <!--                  <el-radio :label="3">粉丝可看</el-radio>-->
              </el-radio-group>
            </el-form-item>
            <el-form-item>
              <el-button class="fl-right" type="primary" @click="releaseDictum" :loading="buttonLoading">
                {{ update.buttonTitle }}
              </el-button>
            </el-form-item>
          </el-form>
        </div>
      </div>

      <el-dialog
        title="添加专辑"
        :visible.sync="dialogVisible"
        width="30%">
        <el-form :model="albumInfo" :rules="albumInfoRules" ref="albumInfo" label-width="100px" class="demo-ruleForm">
          <el-form-item label="专辑名称：" prop="name">
            <el-input v-model="albumInfo.name" clearable></el-input>
          </el-form-item>
          <el-form-item label="简介：" prop="briefIntroduction">
            <el-input type="textarea" maxlength="200"
                      :rows="6"
                      clearable
                      show-word-limit v-model="albumInfo.briefIntroduction"></el-input>
          </el-form-item>
          <el-form-item label="封面：">
            <div class="articleCoverCa">
              <imageUpload v-model="albumValue" :limit="1"/>
            </div>
          </el-form-item>
          <el-form-item label="专辑状态：" prop="albumState">
            <el-radio-group v-model="albumInfo.albumState">
              <el-radio :label="1">公开</el-radio>
              <el-radio :label="2">私有</el-radio>
              <!--            <el-radio :label="3">粉丝可看</el-radio>-->
            </el-radio-group>
          </el-form-item>
          <el-form-item class="text-right">
            <el-button size="medium" @click="dialogVisible = false">取消</el-button>
            <el-button size="medium" type="primary" @click="addAlbum()" :loading="buttonLoading">添加专辑</el-button>
          </el-form-item>
        </el-form>
      </el-dialog>
    </div>
  </div>

</template>

<script>
export default {
  name: "releaseDictum",
  data() {
    return {
      update: {
        id: this.$route.query.code == null ? null : this.$base64.decode(this.$route.query.code),
        info: null,
        buttonTitle: '记录名言',
        pageTitle: '名言发布',
      },
      albumInfo: {
        albumState: 1,
      },
      albumInfoRules: {
        name: [
          {required: true, message: '请输入专辑名称', trigger: 'blur'},
        ],
        albumState: [
          {required: true, message: '请选择专辑状态', trigger: 'blur'},
        ],
      },
      dynamicTags: [],
      inputVisible: false,
      dialogVisible: false,
      addVisible: true,
      buttonLoading: false,
      inputValue: '',
      dictumInfo: {
        content: null,
        contentMd: null,
        albumId: null,
        dictumState: 1,
      },
      value: [],
      albumValue: [],
      dictumGroupListArr: [],
      dictumAlbumListArr: [],
      loading: true,
      userInfos: null,
      rules: {
        content: [
          {required: true, message: '请输入名言内容', trigger: 'blur'},
        ],
        groupId: [
          {required: true, message: '请选择名言分类', trigger: 'blur'}
        ],
        dictumState: [
          {required: true, message: '请选择发布状态', trigger: 'blur'}
        ],
      },
    }
  },
  methods: {
    addAlbum() {
      this.$refs["albumInfo"].validate(valid => {
        if (valid) {
          this.buttonLoading = true;
          if (this.albumValue.length > 0) {
            this.albumInfo.cover = this.albumValue[0].url;
          }
          this.$API("/frontDesk/dictum/album", "post", null, this.albumInfo).then(res => {
            if (res.code == 200) {
              this.$modal.msgSuccess("添加成功!");
              this.dictumAlbumLists();
            }
          }).finally(() => {
            this.dialogVisible = false;
            this.buttonLoading = false;
          })
        }
      });
    },
    releaseDictum() {
      this.$refs["dictumInfo"].validate(valid => {
        if (valid) {
          this.buttonLoading = true;
          if (this.dynamicTags.length > 0) {
            this.dictumInfo.label = this.dynamicTags.toString();
          }
          this.$API("/frontDesk/dictum/info", "post", null, this.dictumInfo).then(res => {
            if (res.code == 200) {
              this.$router.push({
                path: '/dictum/space/content-list',
                query: {uuid: this.$base64.encode(this.userInfos.uuid)}
              })
            }
          })
        }

      });
    },
    handleClose(tag) {
      this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);
      if (this.dynamicTags.length <= 2) {
        this.addVisible = true;
      }
    },

    showInput() {
      this.inputVisible = true;
      this.$nextTick(_ => {
        this.$refs.saveTagInput.$refs.input.focus();
        if (this.dynamicTags.length >= 2) {
          this.addVisible = false;
        }
      });
    },

    handleInputConfirm() {
      let inputValue = this.inputValue;
      if (inputValue) {
        this.dynamicTags.push(inputValue);
      }
      this.inputVisible = false;
      this.inputValue = '';
    },

    dictumAlbumLists() {
      this.$API("/frontDesk/dictum/album/role/list", "get").then(res => {
        this.dictumAlbumListArr = res.rows;
      }).finally(() => this.loading = false);
    },
    dictumGroupLists() {
      this.$API("/white/dictum/group/list", "get").then(res => {
        this.dictumGroupListArr = res.rows;
      })
    },
    getBasicsUsers() {
      this.$API("/front-desk/user/basics", "get").then(res => {
        if (res == null) {
          return;
        }
        this.userInfos = res.data;
      })
    },
  },
  mounted() {
    if (this.update.id != null) {
      this.loading = true;
      this.update.buttonTitle = "更新名言";
      this.update.pageTitle = "名言更新";
      this.$API("/frontDesk/dictum/info/" + this.update.id, "get").then(res => {
        this.dictumInfo = res.data;
        if (this.dictumInfo.label != null) {
          this.dynamicTags = this.dictumInfo.label.split(",");
        }
      }).finally(() => this.loading = false);
    } else {

    }
    this.dictumAlbumLists()
    this.getBasicsUsers();
    this.dictumGroupLists()
  }
}
</script>

<style>
.release-dictum-index {
  padding: 20px;
  background-color: #fefefe;
  border-radius: 4px;
}

.el-tag + .el-tag {
  margin-left: 10px;
}

.button-new-tag {
  margin-left: 10px;
  height: 32px;
  line-height: 30px;
  padding-top: 0;
  padding-bottom: 0;
}

.input-new-tag {
  width: 90px;
  margin-left: 10px;
  vertical-align: bottom;
}

.el-radio-button__inner {
  border: 1px solid #DCDFE6;
}
</style>
