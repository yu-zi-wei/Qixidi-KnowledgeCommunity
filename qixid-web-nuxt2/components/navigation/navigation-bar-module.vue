<template>
  <div>
    <!--    手机导航-->
    <div class="_module_explicit" style="  height: 58px;margin: auto; z-index: 99;">
      <div class="main">
        <div class="flex-space-between align-items-center padding-6">
          <div>
            <el-dropdown trigger="click">
              <div class="el-dropdown-link">
                <svg t="1751723953084" class="icon icon-size-28 svg-translateY-3" viewBox="0 0 1024 1024" version="1.1"
                     xmlns="http://www.w3.org/2000/svg"
                     p-id="1514">
                  <path
                    d="M170.666667 213.333333h682.666666v85.333334H170.666667V213.333333z m0 512h426.666666v85.333334H170.666667v-85.333334z m0-256h682.666666v85.333334H170.666667v-85.333334z"
                    fill="#444444" p-id="1515"></path>
                </svg>
              </div>
              <el-dropdown-menu slot="dropdown">
                <el-menu
                  :default-active="activeIndex"
                  class="el-menu-vertical-demo"
                  @select="handleSelect"
                  :router="true"
                  text-color="#000000"
                  :active-text-color="themeColor">
                  <el-menu-item v-for="(item,index) in getNavigationList(0)" :key="index" :index="item.route">
                    <nuxt-link class="font-s-16" :to="item.route">
                      {{ item.navigationName }}
                    </nuxt-link>
                  </el-menu-item>
                  <!--                存在下拉的菜单-->
                  <el-submenu v-for="(item,index) in getNavigationList(1)" :key="index+'-'" :index="index+'-'"
                              style="border-bottom-color: snow;border-bottom: none">
                    <template slot="title">
                      <span class="font-s-16">{{ item.navigationName }}</span>
                    </template>
                    <el-menu-item v-for="(item1,index1) in item.levelList" :key="index1+'--'" :index="item1.route">
                      <nuxt-link class="font-s-16" :to="item1.route">
                        {{ item1.navigationName }}
                      </nuxt-link>
                    </el-menu-item>
                  </el-submenu>
                </el-menu>
              </el-dropdown-menu>
            </el-dropdown>
          </div>
          <div class="font-bold-s">
            <nuxt-link to="/">栖息地</nuxt-link>
          </div>
          <div>
            <div v-if="this.isLogin">
              <el-dropdown trigger="click">
                <div class="el-dropdown-link">
                  <div class="el-dropdown-link cursor-pointer" v-if="userInfo!=null">
                    <el-avatar :size="38" v-if="userInfo.avatar" :src="userInfo.avatar"></el-avatar>
                    <el-avatar :size="38" v-else src="/img/tx.jpg"></el-avatar>
                  </div>
                </div>
                <el-dropdown-menu slot="dropdown">
                  <div class="cursor-pointer hover-cl color-grey text-center">
                    <div class="padding-6 font-s-13" @click="oauthLogout">
                      退出登录
                    </div>
                  </div>
                </el-dropdown-menu>
              </el-dropdown>
            </div>
            <div v-else>
              <div @click="loginWindow" class="cursor-pointer not-Logged-in" title="登录/注册">
                <svg t="1756290687372" class="icon-theme svg-translateY-3" viewBox="0 0 1024 1024" version="1.1"
                     xmlns="http://www.w3.org/2000/svg" p-id="16818" width="32" height="32">
                  <path
                    d="M575.215 547.318c53.367-24.316 90.562-78.011 90.562-140.522 0-85.257-69.149-154.383-154.406-154.383-85.299 0-154.427 69.126-154.427 154.383 0 62.49 37.172 116.185 90.562 140.522-87.156 27.24-150.586 108.698-150.586 204.715 0 12.071 9.779 21.827 21.827 21.827s21.827-9.756 21.827-21.827c0-94.161 76.613-170.774 170.776-170.774 94.184 0 170.797 76.613 170.797 170.774 0 12.071 9.756 21.827 21.827 21.827 12.07 0 21.827-9.756 21.827-21.827 0.021-95.994-63.43-177.475-150.586-204.715zM400.621 406.817c0-61.072 49.678-110.729 110.773-110.729 61.072 0 110.75 49.657 110.75 110.729 0 61.094-49.678 110.794-110.75 110.794-61.095 0-110.773-49.7-110.773-110.794z"
                    p-id="16819"></path>
                  <path
                    d="M511.371 960.81c-246.951 0-447.869-200.918-447.869-447.891 0-246.93 200.919-447.871 447.869-447.871 246.973 0 447.892 200.919 447.892 447.871 0 246.973-200.919 447.891-447.892 447.891z m0-854.269c-224.098 0-406.398 182.301-406.398 406.377s182.3 406.397 406.398 406.397c224.099 0 406.42-182.321 406.42-406.397S735.47 106.541 511.371 106.541z"
                    p-id="16820"></path>
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--    pc导航-->
    <div class="main-div _module_hiding">
      <div :class="{'main':true, 'hide-div':goTopLoading,'appear-div':!goTopLoading}">
        <div class="main-nav">
          <div class="logo cursor-pointer" :title="websiteName">
            <nuxt-link to="/static">
              <div class="flex-left align-items-center svg-translateY-3" style="height: 50px;">
                <!--                                                <el-image style="height: 40px;width: 40px" src="/img/logo.png"/>-->
                <!--                <svg t="1726902880139" class="icon-theme" viewBox="0 0 1024 1024" version="1.1"-->
                <!--                     xmlns="http://www.w3.org/2000/svg" p-id="4593" width="34" height="34">-->
                <!--                  <path-->
                <!--                    d="M839.446 839.453v-218.307h109.152l-72.768-181.914h36.399l-109.149-291.074-72.783 254.683h36.384l-87.617 175.171-57.917-175.171 36.384 36.39-145.533-436.606-109.149 363.83h36.383l-72.767 218.307-72.524-152.215 36.14 6.684-109.148-291.074-72.768 254.683h36.369l-109.151 218.305h109.151v181.925c0 0-143.503 63.137-181.916 109.151 60.689-27.678 123.863-21.389 218.315-36.384-28.458 17.268-54.764 20.359-72.768 36.384-39.838 35.39-109.149 109.156-109.149 109.156h436.599c0 0-149.701-68.932-145.534-109.156 2.454-23.769 49.734-55.493 72.768-72.768 22.486-1.175 49.52 0.395 72.768 0v72.768h72.767v-72.768c183.173 6.114 371.090 26.261 472.995 72.768-33.792-40.468-181.932-72.768-181.932-72.768zM475.617 766.686c-72.345 1.636-156.55 24.807-218.301 36.383v-181.925h72.767l-36.382 36.39h181.916v109.151zM766.683 803.069c-61.811-13.933-143.821-32.974-218.299-36.383v-109.151h181.914l-36.382-36.39h72.767v181.925z"-->
                <!--                    p-id="4594" fill=""></path>-->
                <!--                </svg>-->
                <!--                                <svg t="1742522967432" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"-->
                <!--                                     p-id="50994" width="40" height="40" class="icon svg-translateY-2">-->
                <!--                                  <path-->
                <!--                                    d="M469.211429 822.564571a312.027429 312.027429 0 0 1-154.989715-67.291428l-68.242285 22.674286 22.747428-68.169143a312.027429 312.027429 0 0 1-67.291428-155.062857L73.142857 512l128.292572-42.788571a312.027429 312.027429 0 0 1 67.291428-154.989715l-22.674286-68.242285 68.169143 22.747428a312.027429 312.027429 0 0 1 155.062857-67.291428L512 73.142857l42.788571 128.292572a312.027429 312.027429 0 0 1 154.989715 67.291428l68.242285-22.674286-22.747428 68.169143c35.401143 43.52 59.318857 96.694857 67.291428 155.062857L950.857143 512l-128.292572 42.788571a312.027429 312.027429 0 0 1-67.291428 154.989715l22.674286 68.242285-68.169143-22.747428a312.027429 312.027429 0 0 1-155.062857 67.291428L512 950.857143zM512 700.050286A188.050286 188.050286 0 1 0 512 324.022857 188.050286 188.050286 0 0 0 512 699.977143z"-->
                <!--                                    p-id="50995" fill="#636e72"></path>-->
                <!--                                </svg>-->

              </div>
            </nuxt-link>
          </div>
          <div class="nav-list">
            <ul class="main-nav-list">
              <el-menu
                :default-active="activeIndex"
                mode="horizontal"
                class="el-menu-vertical-demo"
                @select="handleSelect"
                :router="true"
                text-color="#000000"
                :active-text-color="themeColor">
                <el-menu-item v-for="(item,index) in getNavigationList(0)" :key="index" :index="item.route">
                  <nuxt-link class="font-s-17 font-bold-s" :to="item.route">
                    <!--                                        <i v-if="item.navigationIcon!=null" :class="$route.path==item.route?'icon-theme':''"-->
                    <!--                                           v-html="item.navigationIcon"></i>-->
                    {{ item.navigationName }}
                  </nuxt-link>
                </el-menu-item>
                <!--                存在下拉的菜单-->
                <el-submenu v-for="(item,index) in getNavigationList(1)" :key="index+'-'" :index="index+'-'"
                            style="border-bottom-color: snow;border-bottom: none">
                  <template slot="title">
                    <!--                                        <i v-if="item.navigationIcon!=null" :class="$route.path==item.route?'icon-theme':''"-->
                    <!--                                           v-html="item.navigationIcon"></i>-->
                    <span class="font-s-17 font-bold-s">{{ item.navigationName }}</span>
                  </template>
                  <el-menu-item v-for="(item1,index1) in item.levelList" :key="index1+'--'" :index="item1.route">
                    <nuxt-link class="font-s-16" :to="item1.route">
                      <!--                      <i v-if="item1.navigationIcon!=null" :class="$route.path==item1.route?'icon-theme':''"-->
                      <!--                         v-html="item1.navigationIcon"></i>-->
                      {{ item1.navigationName }}
                    </nuxt-link>
                  </el-menu-item>
                </el-submenu>
                <!--                <el-menu-item :index="$route.path">-->
                <!--                  <a href="https://love.qixidi.top/" target="_blank" style="color: var(&#45;&#45;default-color);">-->
                <!--                    爱情小站</a>-->
                <!--                </el-menu-item>-->
                <!--                <el-menu-item index="/test">测试</el-menu-item>-->
              </el-menu>
            </ul>
            <ul class="nav-right-ul search-div">
              <!--          搜索-->
              <el-autocomplete
                style="width: 360px;border-radius: 20px;"
                class="inline-input"
                value-key="content"
                v-model="search.keyword"
                :fetch-suggestions="querySearch"
                @keyup.enter.native="searchAurora"
                :placeholder="'探索'+websiteName"
                @select="handleSelect"
                clearable>
                <i class="el-icon-search el-input__icon" slot="suffix"></i>
              </el-autocomplete>

              <!--        创作中心-->
              <li>
                <el-dropdown class="el-dropdown-link ml-15" title="发布">
                  <div class="mt-6">
                    <svg t="1735804208969" class="icon cursor-pointer icon-theme" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="11397" width="28" height="28">
                      <path
                        d="M256.8704 769.5872s184.9344-508.416 428.9024-628.5824C420.096 359.424 223.5392 1014.8352 223.5392 1014.8352l338.8416-90.8288s-10.752-17.664-30.3104-12.3904l-271.6672 72.7552s31.5904-83.7632 65.2288-137.3184c171.0592-56.1152 317.184-115.8144 375.3984-312.8832 6.5536-42.8544-23.3984-31.4368-31.7952-29.184 70.912-60.0576 209.92-258.2528 162.2528-324.2496-14.6432-9.7792-21.3504-1.1264-21.3504-1.1264S918.016 44.544 836.096 18.5856c-82.0224-26.0096-236.8 90.8288-236.8 90.8288s2.6624-34.9696-33.792-25.1904C427.008 138.496 348.5184 282.7264 348.5184 282.7264s-10.24-38.3488-28.3648-16.384c-243.2 291.1744-63.2832 503.296-63.2832 503.296z"
                        fill="" p-id="11398"></path>
                    </svg>
                  </div>
                  <el-dropdown-menu slot="dropdown">
                    <div class="flex-left font-s-14" style="margin: 6px 20px">
                      <div class="publish-list-item text-center" @click="publishData('/article/publish-article')">
                        <svg t="1742893652691" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="32972" width="30" height="35">
                          <path
                            d="M757.8112 950.3232H271.5648c-107.264 0-194.2016-86.9376-194.2016-194.2016V269.824c0-107.264 86.9376-194.2016 194.2016-194.2016h486.2464c107.264 0 194.2016 86.9376 194.2016 194.2016v486.2464c0 107.264-86.9376 194.2528-194.2016 194.2528z"
                            fill="#f7bd9c" p-id="32973"></path>
                          <path
                            d="M790.2208 514.1504c-14.1312 0-25.6 11.4688-25.6 25.6v172.5952c0 46.1824-37.5808 83.7632-83.7632 83.7632h-322.048c-46.1824 0-83.7632-37.5808-83.7632-83.7632V382.3616c0-46.1824 37.5808-83.7632 83.7632-83.7632h7.8848c10.24 45.312 50.7392 79.2576 99.072 79.2576h108.0832c48.3328 0 88.832-33.9456 99.072-79.2576h7.8848c46.1824 0 83.7632 37.5808 83.7632 83.7632 0 14.1312 11.4688 25.6 25.6 25.6s25.6-11.4688 25.6-25.6c0-74.3936-60.5184-134.9632-134.9632-134.9632h-9.5744c-12.4416-42.0352-51.4048-72.8064-97.4336-72.8064h-108.032c-46.0288 0-84.9408 30.7712-97.4336 72.8064h-9.5744c-74.3936 0-134.9632 60.5184-134.9632 134.9632v330.0352c0 74.3936 60.5184 134.9632 134.9632 134.9632h322.048c74.3936 0 134.9632-60.5184 134.9632-134.9632v-172.5952a25.5488 25.5488 0 0 0-25.5488-25.6512zM465.7664 225.792h108.0832c27.8016 0 50.432 22.6304 50.432 50.432s-22.6304 50.432-50.432 50.432H465.7664c-27.8016 0-50.432-22.6304-50.432-50.432s22.6304-50.432 50.432-50.432z"
                            fill="#F7F8F8" p-id="32974"></path>
                          <path
                            d="M615.2704 468.5824H424.3968c-14.1312 0-25.6 11.4688-25.6 25.6s11.4688 25.6 25.6 25.6h190.8736c14.1312 0 25.6-11.4688 25.6-25.6s-11.4688-25.6-25.6-25.6zM615.2704 613.2224H424.3968c-14.1312 0-25.6 11.4688-25.6 25.6s11.4688 25.6 25.6 25.6h190.8736c14.1312 0 25.6-11.4688 25.6-25.6s-11.4688-25.6-25.6-25.6z"
                            fill="#F7F8F8" p-id="32975"></path>
                        </svg>
                        <p class="line-height-24">写文章</p>
                      </div>
                      <div class="publish-list-item text-center ml-20" @click="jottings">
                        <svg t="1742893279278" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="9158" width="35" height="35">
                          <path
                            d="M616.2 635H428c-13.3 0-24 9.9-24 22s10.8 22 24 22h188.2c13.3 0 24-9.9 24-22s-10.8-22-24-22zM616.2 501.8H510.4c-13.3 0-24 9.9-24 22s10.8 22 24 22h105.8c13.3 0 24-9.9 24-22 0-12.2-10.8-22-24-22zM407.5 545.8l28.1 22.7 7.6-35.4c0.8-4-0.2-9.1-2.7-13.2l-41-117.3c-3.3-9.3-14.5-15.7-24.1-15.1-1.9 0.1-3.8 0.5-5.6 1.1-11.5 3.9-18.5 18.4-14.3 29.7l44.8 116.6c1.4 4.5 4 8.5 7.2 10.9zM616.2 383.3H510.4c-13.3 0-24 9.9-24 22s10.8 22 24 22h105.8c13.3 0 24-9.9 24-22s-10.8-22-24-22z"
                            fill="#fac7c5" p-id="9159"></path>
                          <path
                            d="M634.8 92H390.2c-170.5 0-310 139.5-310 310v233.8c0 170.5 139.5 310 310 310h244.6c170.5 0 310-139.5 310-310V402c0-170.5-139.5-310-310-310z m80.9 611.6c0 32-25.6 57.9-57.3 57.9H357.6c-31.6 0-57.3-25.9-57.3-57.9V356.3c0-32 25.6-57.9 57.3-57.9h300.8c31.6 0 57.3 25.9 57.3 57.9v347.3z"
                            fill="#fac7c5" p-id="9160"></path>
                        </svg>
                        <p class="line-height-24">时光小记</p>
                      </div>
                      <div class="publish-list-item text-center ml-20"
                           @click="routeJumpUrl('/dictum/release-dictum')">
                        <svg t="1742893759046" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="38500" width="35" height="35">
                          <path
                            d="M0 0m170.666667 0l682.666666 0q170.666667 0 170.666667 170.666667l0 682.666666q0 170.666667-170.666667 170.666667l-682.666666 0q-170.666667 0-170.666667-170.666667l0-682.666666q0-170.666667 170.666667-170.666667Z"
                            fill="#E5EBFF" p-id="38501"></path>
                          <path
                            d="M0 0m268.8 0l486.4 0q268.8 0 268.8 268.8l0 486.4q0 268.8-268.8 268.8l-486.4 0q-268.8 0-268.8-268.8l0-486.4q0-268.8 268.8-268.8Z"
                            fill="#E5EBFF" p-id="38502"></path>
                          <path
                            d="M749.312 204.8H678.4v77.738667h83.768889V215.921778c0-6.115556-5.802667-11.093333-12.885333-11.093334z m-12.885333 544.142222h-58.026667v77.738667h70.912c7.111111 0 12.885333-5.006222 12.885333-11.093333V748.942222h-25.770666z m0-322.048h-58.026667v166.570667h83.797333v-166.570667h-25.770666z m0 177.692445h-58.026667v133.233777h83.797333v-133.233777h-25.770666z m0-310.954667h-58.026667v122.168889h83.797333v-122.168889h-25.770666z"
                            fill="#396AFC" p-id="38503"></path>
                          <path
                            d="M268.8 815.559111V215.921778c0-6.115556 5.546667-11.093333 12.316444-11.093334h387.982223v621.824H281.116444c-6.769778 0-12.316444-4.977778-12.316444-11.093333z"
                            fill="#9AB3FF" p-id="38504"></path>
                          <path
                            d="M327.68 255.715556h123.363556c6.798222 0 12.344889 5.688889 12.344888 12.686222v418.332444a12.544 12.544 0 0 1-12.344888 12.686222h-123.335112a12.544 12.544 0 0 1-12.344888-12.686222V268.401778c0-6.968889 5.546667-12.686222 12.344888-12.686222z m61.696 342.272a24.661333 24.661333 0 0 0-24.689778 24.689777v1.365334a24.661333 24.661333 0 1 0 49.351111 0v-1.365334a24.661333 24.661333 0 0 0-24.661333-24.689777z"
                            fill="#FFFFFF" p-id="38505"></path>
                          <path
                            d="M390.855111 307.2v5.603556h-11.633778v4.949333h11.633778v5.546667h-13.937778v5.12h32.711111v-5.12h-13.397333v-5.546667h11.605333v-4.949333h-11.605333V307.2h-5.376z m-14.620444 26.709333v5.091556h21.418666v12.544c0 1.564444-0.768 2.417778-2.332444 2.417778a48.64 48.64 0 0 1-5.575111-0.341334l1.137778 5.205334h6.257777c3.925333 0 5.888-1.962667 5.888-5.888v-13.937778h7.139556v-5.12h-7.139556v-4.039111h-5.376v4.067555h-21.447111z m9.159111 6.200889l-4.152889 2.56c2.702222 3.242667 4.864 6.144 6.428444 8.817778l4.181334-3.015111a68.835556 68.835556 0 0 0-6.456889-8.362667z m-19.456-32.341333l-3.697778 3.640889c3.925333 2.901333 6.997333 5.688889 9.244444 8.305778l3.612445-3.697778a67.413333 67.413333 0 0 0-9.159111-8.248889z m-7.537778 16.213333v5.063111h7.822222v20.565334c0 1.109333-0.455111 2.048-1.336889 2.844444l1.962667 4.807111c3.953778-2.56 7.68-5.546667 11.207111-8.903111l-1.393778-5.575111c-1.905778 1.848889-3.697778 3.527111-5.347555 4.977778v-23.808H358.4zM401.408 433.123556c4.408889 0 6.656-2.076444 6.656-6.200889v-43.235556h-31.345778v5.034667h26.083556v36.693333c0 1.792-0.853333 2.730667-2.503111 2.730667l-6.371556-0.113778 1.336889 5.091556h6.144z m-23.409778-39.054223v5.12h21.902222v-5.12h-21.902222z m1.706667 10.069334v18.318222h18.289778v-18.318222h-18.318223z m13.340444 13.653333h-8.277333v-9.016889h8.248889v9.045333z m-27.107555-35.555556l-3.697778 3.640889c3.982222 2.901333 7.054222 5.688889 9.301333 8.305778l3.612445-3.697778a64.938667 64.938667 0 0 0-9.216-8.248889z m-7.424 16.213334v5.063111h7.708444v20.48c0 1.137778-0.512 2.133333-1.422222 2.929778l2.048 4.750222c3.555556-2.56 6.968889-5.489778 10.211556-8.704l-1.422223-5.688889c-1.479111 1.536-2.929778 3.043556-4.323555 4.380444v-23.210666h-12.8z"
                            fill="#9AB3FF" p-id="38506"></path>
                        </svg>
                        <p class="line-height-24">记随笔</p>
                      </div>
                    </div>
                  </el-dropdown-menu>
                </el-dropdown>
              </li>
              <!--        消息-->
              <li>
                <el-dropdown>
                  <div class="cursor-pointer flex-left mt-6" @click="newsJump">
                    <svg t="1744013810249" class="icon-theme-1" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="33327" width="28" height="28">
                      <path
                        d="M640 786.272C639.904 846.912 590.208 896 528 896c-61.76 0-111.904-48.896-112-109.728h224z m-37.344-590.08C602.656 158.592 569.28 128 528 128c-41.152 0-74.656 30.528-74.656 68.192 0 3.84 0.32 7.616 0.992 11.264-103.104 32.832-187.68 133.632-187.68 252.896v93.92s0 135.2-36.352 136.384C208.608 690.656 192 705.92 192 724.8c0 18.944 16.704 34.08 37.312 34.08h597.376c20.704 0 37.312-15.264 37.312-34.08 0-18.976-16.704-34.112-37.312-34.112-37.344 0-37.344-135.456-37.344-135.456v-94.816a264.224 264.224 0 0 0-187.68-252.992c0.64-3.712 0.992-7.456 0.992-11.2z"
                        opacity=".9" p-id="33328"></path>
                    </svg>
                    <div class="circular-div-admin" v-if="userNewsSum>0">
                      <span class="sum-span-div-admin" v-text="userNewsSum"></span>
                    </div>
                  </div>
                  <el-dropdown-menu slot="dropdown">
                    <el-dropdown-item v-for="(items,index) in userNewsList" :key="index">
                      <div class="flex-left font-s-16" @click="$router.push(items.route)">
                        <div v-text="items.typeInfo"></div>
                        <div v-if="items.newsSum>0" v-text="items.newsSum" class="badge-news"></div>
                      </div>
                    </el-dropdown-item>
                  </el-dropdown-menu>
                </el-dropdown>
              </li>
              <!--        用户信息模块-->
              <li>
                <div v-if="this.isLogin">
                  <el-dropdown trigger="click">
                    <div class="el-dropdown-link cursor-pointer" v-if="userInfo!=null">
                      <el-avatar :size="38" v-if="userInfo.avatar" :src="userInfo.avatar"></el-avatar>
                      <el-avatar :size="38" v-else src="/img/tx.jpg"></el-avatar>
                    </div>
                    <el-dropdown-menu slot="dropdown" style="padding: 15px">
                      <div class="data-info-dev">
                        <div class="flex-left ">
                          <div class="mr-10" v-if="userInfo!=null">
                            <el-avatar v-if="userInfo.avatar" :src="userInfo.avatar"></el-avatar>
                            <el-avatar v-else src="/img/tx.jpg"></el-avatar>
                          </div>
                          <div>
                            <p class="mb-6 font-bold overflow-nowrap-1 font-s-16">{{ userInfo.nickname }}</p>
                            <p class="font-s-14 color-grey">
                              {{ userInfo.occupation == null ? '职业-~-' : userInfo.occupation }}</p>
                          </div>
                        </div>
                        <hr class="hr-item mt-10 mb-15"/>
                        <div class="flex-space-between padding-le-ri-10 mb-20 font-s-16">
                          <div class="cursor-pointer hover-cl">
                            <nuxt-link :to="`/user_home/collection?uuid=`+$base64.encode(userInfo.uuid)" target="_blank"
                                       rel="noopener">
                              <p class="hover-cl">收藏</p>
                              <p class="flex-center mt-6">{{ userInfo.collectionCount }}</p>
                            </nuxt-link>
                          </div>
                          <div class="cursor-pointer hover-cl">
                            <nuxt-link :to="`/user_home/article?uuid=`+$base64.encode(userInfo.uuid)" target="_blank"
                                       rel="noopener">
                              <p class="hover-cl">文章</p>
                              <p class="flex-center mt-6">{{ userInfo.articleCount }}</p>
                            </nuxt-link>
                          </div>
                          <div class="cursor-pointer hover-cl">
                            <nuxt-link :to="`/dictum/space/content-list?uuid=`+$base64.encode(userInfo.uuid)"
                                       target="_blank"
                                       rel="noopener">
                              <p class="hover-cl">随笔</p>
                              <p class="flex-center mt-6">{{ userInfo.dictumCount }}</p>
                            </nuxt-link>
                          </div>
                          <div class="cursor-pointer hover-cl">
                            <nuxt-link :to="'/user_admin/time_motes_admin'" rel="noopener">
                              <p class="hover-cl">小记</p>
                              <p class="flex-center mt-6">{{ userInfo.timeNotesCount }}</p>
                            </nuxt-link>
                          </div>
                        </div>
                        <div class="mt-26">
                          <ul class="flex-space-between flex-wrap-wrap font-s-16">
                            <li class="function-li-dev" @click="routeJumpUrl('/user_admin/data-index')">
                              <svg t="1735798042107" class="icon-theme-636e72 svg-translateY-1- icon-size-24 mr-6"
                                   viewBox="0 0 1024 1024" version="1.1"
                                   xmlns="http://www.w3.org/2000/svg" p-id="33544">
                                <path
                                  d="M568.832 37.888l358.4 238.8992A102.4 102.4 0 0 1 972.8 361.984v300.032a102.4 102.4 0 0 1-45.568 85.1968l-358.4 238.8992a102.4 102.4 0 0 1-113.664 0l-358.4-238.8992A102.4 102.4 0 0 1 51.2 662.016V361.984a102.4 102.4 0 0 1 45.568-85.1968l358.4-238.8992a102.4 102.4 0 0 1 113.664 0z m143.36 330.9056a27.392 27.392 0 0 0-37.9904-7.6288l-133.7856 89.2416a51.2 51.2 0 0 1-56.832 0L349.7984 361.216A27.392 27.392 0 0 0 307.2 384v23.808a51.2 51.2 0 0 0 22.784 42.5984l108.032 71.9872a51.2 51.2 0 0 1 22.784 42.5984v109.1584a51.2 51.2 0 0 0 102.4 0v-109.2096a51.2 51.2 0 0 1 22.784-42.5984l108.032-71.9872A51.2 51.2 0 0 0 716.8 407.7568v-23.808a27.392 27.392 0 0 0-4.608-15.1552z"
                                  p-id="33545"></path>
                              </svg>
                              创作中心
                            </li>
                            <li class="function-li-dev" @click="routeJumpUuid('/user_home/article',userInfo.uuid)">
                              <svg t="1720603953455" class="icon-theme-636e72 icon-size-24 svg-translateY-1- mr-6"
                                   viewBox="0 0 1024 1024" version="1.1"
                                   xmlns="http://www.w3.org/2000/svg" p-id="14832" id="mx_n_1720603953456">
                                <path
                                  d="M853.333333 443.733333c-17.066667 0-29.866667 12.8-29.866666 25.6v302.933334c0 64-51.2 115.2-115.2 115.2H315.733333c-64 0-115.2-51.2-115.2-115.2V469.333333c0-17.066667-12.8-25.6-25.6-25.6s-29.866667 12.8-29.866666 25.6v302.933334c0 93.866667 76.8 170.666667 170.666666 170.666666h392.533334c93.866667 0 170.666667-76.8 170.666666-170.666666V469.333333c0-12.8-12.8-25.6-25.6-25.6zM947.2 392.533333L644.266667 128c-76.8-68.266667-192-68.266667-268.8 0l-298.666667 264.533333c-12.8 8.533333-12.8 25.6-4.266667 38.4 4.266667 4.266667 12.8 8.533333 21.333334 8.533334s12.8-4.266667 17.066666-8.533334l302.933334-264.533333c55.466667-46.933333 140.8-46.933333 196.266666 0l302.933334 264.533333c12.8 8.533333 29.866667 8.533333 38.4-4.266666 8.533333-4.266667 8.533333-21.333333-4.266667-34.133334z"
                                  p-id="14833"></path>
                                <path
                                  d="M610.133333 780.8c17.066667 0 29.866667-12.8 29.866667-29.866667v-140.8c0-59.733333-46.933333-102.4-106.666667-102.4h-38.4c-59.733333 0-102.4 46.933333-102.4 102.4v140.8c0 17.066667 12.8 29.866667 25.6 29.866667s25.6-12.8 25.6-29.866667v-140.8c0-25.6 21.333333-46.933333 46.933334-46.933333h38.4c25.6 0 46.933333 21.333333 46.933333 46.933333v140.8c4.266667 17.066667 17.066667 29.866667 34.133333 29.866667z"
                                  p-id="14834"></path>
                              </svg>
                              我的主页
                            </li>
                            <li class="function-li-dev"
                                @click="routeJumpUuid('/dictum/space/content-list',userInfo.uuid)">
                              <svg t="1761705729814" class="icon-theme-636e72 icon-size-26 svg-translateY-1 mr-6"
                                   viewBox="0 0 1024 1024" version="1.1"
                                   xmlns="http://www.w3.org/2000/svg" p-id="32118" width="16" height="16">
                                <path
                                  d="M934.961 201.805c-199.514-56.676-348.872 34.158-395.761 68.189l-0.19 570.382a53.415 53.415 0 0 0 4.988-2.618c136.694-85.714 307.166-72.09 378.807-61.089a30.13 30.13 0 0 0 24.016-7.378A30.118 30.118 0 0 0 956.9 746.28V231.292c0.136-13.639-8.837-25.698-21.939-29.487m-86.757 338.471c-4.286 12.147-17.593 18.515-29.73 14.287-3.555-1.214-80.793-26.658-127.688 36.937-4.584 6.212-11.654 9.494-18.822 9.494a23.263 23.263 0 0 1-13.849-4.559c-10.386-7.656-12.59-22.279-4.935-32.666 54.199-73.484 141.941-66.994 180.765-53.292 12.167 4.292 18.55 17.638 14.259 29.799m0-101.537c-4.286 12.151-17.593 18.525-29.73 14.287-3.555-1.214-80.793-26.658-127.688 36.937-4.584 6.207-11.654 9.494-18.822 9.494a23.263 23.263 0 0 1-13.849-4.559c-10.386-7.661-12.59-22.284-4.935-32.671 54.199-73.479 141.941-66.984 180.765-53.287 12.167 4.292 18.55 17.638 14.259 29.799"
                                  fill="" p-id="32119"></path>
                                <path
                                  d="M67.101 231.29v514.994A30.113 30.113 0 0 0 77.18 769.29a30.12 30.12 0 0 0 24.015 7.378c71.641-11.001 242.113-24.625 378.807 61.089a53.43 53.43 0 0 0 4.993 2.623l-0.195-570.388c-46.885-34.031-196.247-124.865-395.761-68.188-13.102 3.789-22.075 15.848-21.938 29.486m122.958 279.186c38.819-13.697 126.566-20.187 180.76 53.292 7.661 10.386 5.452 25.01-4.935 32.666a23.244 23.244 0 0 1-13.849 4.564c-7.163 0-14.238-3.287-18.817-9.499-46.899-63.595-124.138-38.151-127.693-36.937-12.132 4.228-25.444-2.136-29.725-14.282-4.29-12.167 2.093-25.513 14.259-29.804m0-101.537c38.819-13.697 126.566-20.192 180.76 53.292 7.661 10.386 5.452 25.01-4.935 32.666a23.205 23.205 0 0 1-13.849 4.559c-7.163 0-14.238-3.282-18.817-9.494-46.899-63.595-124.138-38.151-127.693-36.937-12.132 4.237-25.444-2.131-29.725-14.287-4.29-12.161 2.093-25.508 14.259-29.799"
                                  fill="" p-id="32120"></path>
                              </svg>
                              阅读随笔
                            </li>
                            <li class="function-li-dev" @click="routeJumpUuid('/user_home/follow',userInfo.uuid)">
                              <svg t="1704636202856" class="icon-theme-636e72 icon-size-24 svg-translateY-1- mr-6"
                                   viewBox="0 0 1024 1024" version="1.1"
                                   xmlns="http://www.w3.org/2000/svg" p-id="5600">
                                <path
                                  d="M512 85.333333c129.6 0 234.666667 105.066667 234.666667 234.666667 0 84.256-44.394667 158.133333-111.072 199.52a425.28 425.28 0 0 1 152.853333 83.466667 32 32 0 1 1-41.493333 48.736A361.045333 361.045333 0 0 0 512 565.333333c-188.672 0-345.429333 144.672-361.344 331.413334a32 32 0 0 1-63.765333-5.429334c15.114667-177.322667 138.048-322.346667 301.546666-371.786666C321.76 478.165333 277.333333 404.266667 277.333333 320c0-129.6 105.066667-234.666667 234.666667-234.666667z m415.946667 627.381334l1.066666 1.013333a29.824 29.824 0 0 1 0 43.413333l-162.261333 152.96a31.925333 31.925333 0 0 1-22.762667 8.704 31.925333 31.925333 0 0 1-22.773333-8.704l-93.184-87.84a29.824 29.824 0 0 1 0-43.413333l1.077333-1.013333a32 32 0 0 1 43.904 0l70.976 66.901333 140.053334-132.021333a32 32 0 0 1 43.904 0zM512 149.333333c-94.261333 0-170.666667 76.405333-170.666667 170.666667s76.405333 170.666667 170.666667 170.666667 170.666667-76.405333 170.666667-170.666667-76.405333-170.666667-170.666667-170.666667z"
                                  p-id="5601"></path>
                              </svg>
                              我的关注
                            </li>
                            <li class="function-li-dev" @click="routeJumpUuid('/user_home/special',userInfo.uuid)">
                              <svg t="1704636239327" class="icon-theme-636e72 icon-size-24 svg-translateY-1 mr-6"
                                   viewBox="0 0 1024 1024" version="1.1"
                                   xmlns="http://www.w3.org/2000/svg" p-id="6694">
                                <path
                                  d="M539.8 558.3c-7.2-7.2-28.2-10-39.2 0.9L228.2 831.8V205.5c0-13.4 11-24.3 24.7-24.3h517.7c13.6 0 24.6 10.9 24.6 24.3v306.2c0 12 8.8 21.7 19.6 21.7s19.6-9.7 19.6-21.7v-322c0-26.3-21.4-47.7-47.8-47.7H236.8c-26.4 0-47.8 21.4-47.8 47.7V884.9c0 10.7 8.6 19.3 19.3 19.3h5c8.7 0 15.1-6.4 15.1-6.5l292.2-292.4 97.7 97.5c9.1 9.1 23.9 9.1 33 0 9.1-9.1 9.1-23.9 0-33L539.8 558.3zM928.6 748.2h-94.2v-93.5c0-12.9-8.8-23.4-19.6-23.4s-19.6 10.5-19.6 23.4v93.5h-93.6c-13 0-23.5 8.8-23.5 19.6s10.5 19.6 23.5 19.6h93.6v94.1c0 13 8.8 23.5 19.6 23.5s19.6-10.5 19.6-23.5v-94.1h94.2c13 0 23.5-8.8 23.5-19.6s-10.5-19.6-23.5-19.6z"
                                  p-id="6695"></path>
                              </svg>
                              我的专栏
                            </li>
                            <li class="function-li-dev" @click="routeJumpUuid('/user_home/fabulous',userInfo.uuid)">
                              <svg t="1704636283898" class="icon-theme-636e72 icon-size-24 mr-6"
                                   viewBox="0 0 1024 1024" version="1.1"
                                   xmlns="http://www.w3.org/2000/svg" p-id="7693">
                                <path
                                  d="M132.096 998.4c-9.216 0-18.432-3.072-25.6-10.24-14.336-14.336-14.336-36.864 0-50.176l306.176-306.176c14.336-14.336 36.864-14.336 50.176 0 14.336 14.336 14.336 36.864 0 50.176L156.672 988.16c-6.144 6.144-15.36 10.24-24.576 10.24z"
                                  p-id="7694"></path>
                                <path
                                  d="M544.768 876.544H542.72c-12.288-1.024-22.528-8.192-27.648-19.456l-87.04-199.68-214.016-41.984c-12.288-2.048-21.504-11.264-24.576-22.528-3.072-11.264 1.024-24.576 9.216-32.768l162.816-144.384-26.624-216.064c-1.024-12.288 4.096-23.552 14.336-30.72 10.24-7.168 23.552-7.168 33.792-1.024l188.416 110.592 197.632-92.16c11.264-5.12 23.552-4.096 33.792 4.096 9.216 7.168 14.336 20.48 11.264 31.744L768 435.2l148.48 159.744c8.192 9.216 11.264 21.504 6.144 32.768s-14.336 19.456-26.624 20.48l-217.088 20.48L573.44 860.16c-6.144 10.24-16.384 16.384-28.672 16.384zM290.816 565.248l166.912 32.768c10.24 2.048 19.456 9.216 23.552 18.432l67.584 155.648 82.944-148.48c5.12-9.216 14.336-15.36 24.576-16.384l168.96-16.384-115.712-123.904c-7.168-8.192-10.24-18.432-8.192-28.672l36.864-165.888-154.624 71.68c-9.216 4.096-20.48 4.096-29.696-1.024L407.552 256l20.48 168.96c1.024 10.24-3.072 20.48-10.24 27.648l-126.976 112.64z"
                                  p-id="7695"></path>
                                <path
                                  d="M582.656 187.392c-17.408 0-31.744-14.336-31.744-31.744v-47.104c0-17.408 14.336-31.744 31.744-31.744S614.4 90.112 614.4 108.544v47.104c0 17.408-14.336 31.744-31.744 31.744zM843.776 424.96c-15.36 0-28.672-10.24-31.744-25.6-3.072-17.408 8.192-33.792 25.6-37.888L956.416 337.92c17.408-3.072 33.792 8.192 37.888 25.6 3.072 17.408-8.192 33.792-25.6 37.888L849.92 423.936c-2.048 1.024-4.096 1.024-6.144 1.024zM820.224 900.096c-10.24 0-20.48-5.12-26.624-14.336l-95.232-142.336c-10.24-14.336-6.144-34.816 9.216-44.032 14.336-10.24 34.816-6.144 44.032 9.216L846.848 849.92c10.24 14.336 6.144 34.816-9.216 44.032-5.12 4.096-11.264 6.144-17.408 6.144z"
                                  p-id="7696"></path>
                              </svg>
                              我的点赞
                            </li>
                            <li class="function-li-dev" @click="routeJumpUuid('/user_home/lately',userInfo.uuid)">
                              <svg t="1704636371057" class="icon-theme-636e72 icon-size-24 mr-6"
                                   viewBox="0 0 1024 1024" version="1.1"
                                   xmlns="http://www.w3.org/2000/svg" p-id="9933">
                                <path
                                  d="M620.958574 383.566886c1.533936 0.741897 3.076058 1.394766 4.650927 1.955538 0.020466 0.007163 0.020466 0.007163 0.020466 0.007163 28.879748 10.285251 63.605643-10.212596 82.518389-48.753377 19.896142-40.460504 12.735046-83.322707-16.273638-97.583502-29.638017-14.173814-67.228147 6.144954-87.188758 46.756907-8.619308 17.568121-12.539594 36.500309-11.007705 53.328579C595.516112 359.812879 605.481068 375.968837 620.958574 383.566886zM644.593877 305.556161c10.199293-20.74037 24.723078-27.288506 27.635407-26.468838 2.527566 1.832741 6.240121 17.295921-3.977591 38.087457-10.188037 20.709671-24.609491 27.293623-27.682479 26.473955C638.065184 341.686033 634.44882 326.211597 644.593877 305.556161z"
                                  p-id="9934"></path>
                                <path
                                  d="M709.882859 447.871447c2.772136 1.794879 5.774517 3.266393 8.883321 4.373611 0.020466 0.007163 0.020466 0.007163 0.020466 0.007163 23.970948 8.537444 52.750411-4.190439 69.983911-30.965246 19.72218-30.658254 16.013719-67.034742-8.488325-82.813101-24.031323-15.484669-59.372226-3.685949-78.882582 26.574239C681.651888 395.71046 685.379793 432.092066 709.882859 447.871447zM738.780003 389.125485c6.747681-10.467399 15.521508-13.682627 17.195637-13.46671 1.420349 1.77339 2.160199 11.083429-4.591575 21.562085-6.438643 9.991562-14.738679 13.362332-17.392112 13.178137C732.7251 408.067906 732.337267 399.126256 738.780003 389.125485z"
                                  p-id="9935"></path>
                                <path
                                  d="M849.594855 465.871403c-13.326517-23.736611-50.072419-29.795607-79.622432-13.157671-30.777981 17.305131-44.0124 50.194192-30.146601 74.874291 5.189186 9.245572 13.566994 16.136515 24.177656 19.926842 16.669658 5.937223 37.412075 3.413749 55.481615-6.745634 13.400195-7.534604 24.124444-18.557658 30.157857-31.032784C856.902284 494.79413 856.884888 478.793714 849.594855 465.871403zM797.702997 502.012532c-7.661494 4.295839-15.015995 4.891404-18.681478 3.63069 0.375553-2.717901 3.824095-9.171893 12.737092-14.183024 7.717775-4.327562 15.116279-4.9088 18.86158-4.425799C810.823829 489.180272 807.415196 496.55217 797.702997 502.012532z"
                                  p-id="9936"></path>
                                <path
                                  d="M626.872261 407.602302l-150.978597-92.975555-3.108804-1.591241c-39.237653-16.60212-82.194-13.796214-117.144 6.55223-30.54876 17.791202-51.474348 47.295166-57.403385 80.963986-6.356778 36.132942 5.65172 76.376505 17.272385 115.292839 12.71151 42.577724 25.846668 86.620823 11.729136 117.294426-14.262842 30.989805-35.348066 44.245713-59.761082 59.565631-26.155706 16.430204-55.810097 35.046191-77.259618 76.567863-16.449647 31.823799-18.729573 68.348668-6.252401 100.196003 9.957793 25.39539 34.367739 60.202127 94.121658 81.806167l0.695848 0.24764c0.010233 0.004093 0 0 0.010233 0.004093 72.417333 25.791409 146.981563-32.166607 175.894056-72.828702 0.449231-0.474814 0.706081-1.109264 1.11438-1.627057 0.960885-1.39579 2.01489-2.827395 2.861164-4.173043l-0.260943-0.152473c0.337691-0.708128 0.919952-1.221828 1.189082-1.977028 4.218068-11.841699-1.963725-24.861224-13.807471-29.079292-9.821693-3.497661-20.154016 0.414439-25.900903 8.519024l-0.280386-0.164752c-39.869033 44.026726-79.69918 76.047-126.382409 59.420321-34.926464-12.623505-58.379619-32.06223-67.855434-56.225559-7.80271-19.925818-6.227842-43.081191 4.341888-63.539128 15.888875-30.733978 36.984333-43.985794 61.415768-59.323107 26.573215-16.695241 56.707536-35.625382 76.515674-78.653361 21.129226-45.899376 5.547343-98.119715-9.521864-148.60248-10.602476-35.523051-20.62883-69.079308-16.092513-94.855368 3.654226-20.74344 16.769942-39.062668 35.986609-50.241264 21.511943-12.517081 48.028876-14.654768 72.757071-5.848195 1.124614 0.401136 2.252297 0.825808 3.373841 1.270946l148.697647 91.551112c54.338582 36.453237 66.301032 81.554434 37.682227 141.851729-34.492582 71.88726-78.214363 114.12627-117.170606 150.628626l0.10847 0.110517c-2.364861 2.332115-4.367471 5.069459-5.556553 8.408507-4.218068 11.843746 1.962701 24.863271 13.805424 29.080316 8.373715 2.981914 17.194614 0.569982 23.216771-5.169743l0.138146 0.14224c38.988989-36.756135 89.212858-88.24174 125.585253-164.046217C718.897164 525.4575 700.546214 457.004455 626.872261 407.602302z"
                                  p-id="9937"></path>
                                <path
                                  d="M370.909611 297.807686c5.810333 2.069125 11.861142 3.324722 17.965164 3.724835 48.374754 3.145643 89.645716-46.145993 93.955882-112.220874 3.675716-56.459896-21.259186-105.683994-60.641125-119.710452-5.819542-2.072195-11.861142-3.324722-17.963117-3.723811-24.394596-1.590218-48.533366 10.694573-66.222237 33.69952-15.935947 20.7373-25.791409 48.606021-27.733645 78.486562-3.673669 56.484456 21.25714 105.718787 60.629869 119.742175C370.909611 297.807686 370.909611 297.807686 370.909611 297.807686zM354.643136 180.959422c1.358951-20.869307 8.142447-40.660048 18.614963-54.273091 4.987594-6.497994 15.277962-17.272385 28.072359-16.437367 2.036379 0.137123 3.978614 0.541329 5.941316 1.240247 17.323551 6.169513 33.732266 35.878139 31.187303 74.925457-2.826372 43.302225-26.878161 72.03871-46.687322 70.745251-2.036379-0.137123-3.978614-0.541329-5.942339-1.24127C368.504842 249.749134 352.105337 220.020042 354.643136 180.959422z"
                                  p-id="9938"></path>
                                <path
                                  d="M520.159844 323.5817c32.121582 11.440563 69.803809-14.734586 85.778642-59.588143 15.96767-44.834114 3.307326-88.914052-28.815279-100.354616s-69.796646 14.713097-85.764316 59.547211C475.384058 268.039709 488.037239 312.141136 520.159844 323.5817zM562.205449 205.525933c3.958148 1.409093 10.739599 18.575054 1.845021 43.548842-8.904811 25.004487-25.01472 34.029024-28.971845 32.619932-3.958148-1.410116-10.735505-18.585287-1.829671-43.589774C542.141484 213.131145 558.2473 204.116841 562.205449 205.525933z"
                                  p-id="9939"></path>
                              </svg>
                              我的足迹
                            </li>
                          </ul>
                        </div>
                        <hr class="hr-item mt-15 mb-15 padding-le-ri-10"/>
                        <div class="flex-space-between padding-le-ri-10 font-s-13 font-bold-300 color-grey">
                          <div class="cursor-pointer hover-cl">
                            <nuxt-link class="color-grey" to="/user_info/settings" target="_blank" rel="noopener">
                              我的设置
                            </nuxt-link>
                          </div>
                          <div class="cursor-pointer hover-cl" @click="oauthLogout">退出登录</div>
                        </div>
                      </div>
                    </el-dropdown-menu>
                  </el-dropdown>
                </div>
                <div v-else>
                  <div @click="loginWindow" class="cursor-pointer not-Logged-in" title="登录/注册">
                    <svg t="1756290687372" class="icon-theme svg-translateY-3" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="16818" width="32" height="32">
                      <path
                        d="M575.215 547.318c53.367-24.316 90.562-78.011 90.562-140.522 0-85.257-69.149-154.383-154.406-154.383-85.299 0-154.427 69.126-154.427 154.383 0 62.49 37.172 116.185 90.562 140.522-87.156 27.24-150.586 108.698-150.586 204.715 0 12.071 9.779 21.827 21.827 21.827s21.827-9.756 21.827-21.827c0-94.161 76.613-170.774 170.776-170.774 94.184 0 170.797 76.613 170.797 170.774 0 12.071 9.756 21.827 21.827 21.827 12.07 0 21.827-9.756 21.827-21.827 0.021-95.994-63.43-177.475-150.586-204.715zM400.621 406.817c0-61.072 49.678-110.729 110.773-110.729 61.072 0 110.75 49.657 110.75 110.729 0 61.094-49.678 110.794-110.75 110.794-61.095 0-110.773-49.7-110.773-110.794z"
                        p-id="16819"></path>
                      <path
                        d="M511.371 960.81c-246.951 0-447.869-200.918-447.869-447.891 0-246.93 200.919-447.871 447.869-447.871 246.973 0 447.892 200.919 447.892 447.871 0 246.973-200.919 447.891-447.892 447.891z m0-854.269c-224.098 0-406.398 182.301-406.398 406.377s182.3 406.397 406.398 406.397c224.099 0 406.42-182.321 406.42-406.397S735.47 106.541 511.371 106.541z"
                        p-id="16820"></path>
                    </svg>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div>
      <LoginModule :isLogin="isLoginBinlog" @loginDialogMethod="loginDialogMethod"></LoginModule>
    </div>
    <div>
      <!--    回到顶部-->
      <transition name="el-zoom-in-bottom">
        <div class="go-top _module_hiding" @click="goTop" v-show="goTopLoadingButton">
          <div title="回到顶部">
            <svg t="1734083582523" class="icon icon-size-32 " viewBox="0 0 1024 1024" version="1.1"
                 xmlns="http://www.w3.org/2000/svg"
                 p-id="8034">
              <path
                d="M527.019 202.159c-3.98-3.987-9.385-6.225-15.02-6.225s-11.037 2.238-15.022 6.225l-154.8 154.795c-8.295 8.295-8.295 21.745 0 30.04 8.3 8.297 21.747 8.297 30.042 0l139.78-139.775 139.77 139.775c4.15 4.15 9.59 6.225 15.025 6.225s10.875-2.075 15.025-6.225c8.295-8.295 8.295-21.745 0-30.04L527.019 202.159 527.019 202.159zM116.095 596.078l90.867 0 0 231.984 42.485 0L249.447 596.078l90.867 0 0-42.48L116.095 553.598 116.095 596.078zM574.634 553.599 462.086 553.599c-13.587 0-27.18 5.185-37.547 15.55-10.372 10.37-15.555 23.96-15.555 37.555l0 168.25c0 13.595 5.182 27.185 15.555 37.555 10.367 10.37 23.96 15.555 37.547 15.555l112.547 0c13.59 0 27.185-5.185 37.555-15.555 10.37-10.37 15.55-23.96 15.55-37.555L627.738 606.708c0-13.6-5.18-27.185-15.55-37.56C601.818 558.784 588.224 553.599 574.634 553.599L574.634 553.599zM585.258 774.953c0 2.01-0.55 4.945-3.11 7.515-2.57 2.57-5.51 3.11-7.515 3.11L462.086 785.578c-2.005 0-4.935-0.54-7.505-3.11s-3.112-5.505-3.112-7.515L451.469 606.708c0-2.01 0.542-4.945 3.112-7.515s5.5-3.115 7.505-3.115l112.547 0c2.005 0 4.945 0.545 7.505 3.115 2.57 2.57 3.12 5.505 3.12 7.515L585.258 774.953 585.258 774.953zM892.348 569.148c-10.37-10.36-23.965-15.55-37.555-15.55L709.138 553.598l0 274.464 42.48 0 0-120.38 103.175 0c13.595 0 27.185-5.185 37.555-15.555s15.555-23.96 15.555-37.55l0-47.875C907.903 593.108 902.718 579.523 892.348 569.148L892.348 569.148zM865.418 654.578c0 2.005-0.54 4.94-3.11 7.51s-5.51 3.11-7.51 3.11l-103.17 0 0-69.12 103.17 0c2.005 0 4.94 0.545 7.51 3.115s3.11 5.505 3.11 7.515L865.418 654.578 865.418 654.578z"
                fill="#34495e" p-id="8035"></path>
            </svg>
          </div>
        </div>
      </transition>
    </div>
    <time-notes-editing :time-notes-dialog-visible="jottingsDialogVisible"
                        :time-notes="timeNotes"
                        @timeNotesDialogVisibleMethod="timeNotesDialogVisibleMethod"></time-notes-editing>
  </div>
</template>

<script>
import VditorMd from "../vditorComponents/Vditor-md.vue";
import TimeNotesEditing from "../timeNotes/time-notes-editing.vue";

export default {
  name: "navigationBarModule",
  components: {TimeNotesEditing, VditorMd},
  props: {
    // 是否允许滚动条下滑隐藏导航栏
    isConceal: {
      type: Boolean,
      default: true,
    },
  },
  data() {
    return {
      timeNotes: {
        id: null,
        title: null,
        content: null,
        recordTime: null,
        userName: null,
        createBy: null,
      },
      websiteName: process.env.PROJECT_NAME,
      themeColor: process.env.THEME_COLOR,
      restaurants: [],
      activeIndex: '/',
      search: {
        keyword: null,
      },
      userInfo: null,
      isLogin: false,
      isLoginBinlog: false,
      goTopLoading: false,
      goTopLoadingButton: false,
      navigationList: [],
      userNewsSum: 0,
      userNewsList: [],
      //搜索展示路由
      searchUrl: [
        '/search/article',
        '/search/time_notes',
        '/search/label',
        '/search/user',
      ],
      queryParams: {
        pageNum: 1,
        pageSize: 10,
        uid: null,
      },
      jottingsDialogVisible: false,
    };
  },
  methods: {
    timeNotesDialogVisibleMethod(val) {
      this.jottingsDialogVisible = val;
    },
    jottings() {
      if (!this.isLogin) {
        this.isLoginBinlog = true;
        return;
      }
      this.timeNotes = {
        id: null,
        title: null,
        content: null,
        recordTime: new Date(),
      };
      this.jottingsDialogVisible = true;
    },
    getNavigationList(isList) {
      return this.navigationList.filter(item => item.isList == isList);
    },
    routeJumpUuid(url, id) {
      this.$router.push({
        path: url,
        query: {uuid: this.$base64.encode(id)}
      })
    },
    newsJump() {
      if (this.isLogin) {
        this.$router.push('/news/comment')
        return;
      }
      this.isLoginBinlog = true;
    },
    routeJumpUrl(url) {
      if (this.isLogin) {
        this.$router.push(url)
        return;
      }
      this.isLoginBinlog = true;
    },
    publishData(url) {
      if (this.isLogin) {
        let routeInfo = this.$router.resolve({
          path: url
        });
        window.open(routeInfo.href, '_blank');
        return;
      }
      this.isLoginBinlog = true;
    },

    goTop() {
      window.scrollTo({top: 0, behavior: "smooth"})
    },
    //退出登录
    oauthLogout() {
      this.$confirm('确定要离开吗!', '退出登录', {
        confirmButtonText: '确定',
        cancelButtonText: '取消',
        type: 'warning',
      }).then(() => {
        this.$API("/oauth/logout", this.$post()).then(res => {
          this.pathname = this.$route.fullPath;
          //保存当前url
          sessionStorage.setItem('url', this.pathname);
          this.$router.push(process.env.LOG_OUT_TRANSFER);
        })
        this.notRefreshLogOut();
        this.onMounted()
      }).catch(() => {
      });
    },

    querySearch(queryString, cb) {
      cb(this.restaurants);
    },
    loginWindow() {
      this.isLoginBinlog = true;
    },
    loginDialogMethod(val) {
      this.isLoginBinlog = val;
    },
    handleSelect(item) {
      this.search.keyword = item.content;
      this.searchAurora()
    },
    searchAurora() {
      if (this.search.keyword == null || this.search.keyword == '') {
        return;
      }
      let pth = this.$route.path;
      let patns = '/search/article';
      if (this.searchUrl.indexOf(pth) !== -1) {
        patns = pth;
      }
      this.$router.push({
        path: patns,
        query: {
          data: this.search.keyword,
        }
      })
    },
    navigationFun() {
      //导航栏菜单保存到本地，解决页面切换导航栏闪烁问题
      let navigationList = localStorage.getItem('navigationList');
      if (navigationList != null) {
        this.navigationList = JSON.parse(navigationList);
      }
      this.$API("/white/configure/navigation/list", this.$get(), {type: 1, status: 0}).then(res => {
        this.navigationList = res.rows;
        localStorage.setItem("navigationList", JSON.stringify(this.navigationList));
      })
    },
    gitUserInfo() {
      this.$API("/oauth/getInfo", this.$get()).then(res => {
        this.userInfo = res.data.user;
        this.isLogin = res.data.isLogin;
      }).finally(() => {
        if (!this.isLogin) {
          this.$store.commit('removeToken');
        }
        this.$emit('update:userInfo', this.userInfo)
        if (this.userInfo != null) {
          this.connectWebSocket(this.userInfo.uuid)
          this.queryParams.uid = this.userInfo.uuid;
          this.$API("/frontDesk/search/records/list", "get", this.queryParams).then(res => {
            this.restaurants = res.rows;
          })
        }
      });
    },
    getLoginStatus() {
      this.$API("/oauth/isLogin", this.$get()).then(res => {
        console.log(res.data)
      })
    },
    //建立webSocket连接
    connectWebSocket(uuid) {
      if (uuid == null) return;
      const url = process.env.WEBSOCKET_PROTOCOL + process.env.SERVER_URL + `/websocket/${uuid}/${1}`;
      this.socket = new WebSocket(url);
      this.socket.onopen = (event) => {
        // 在这里可以执行连接成功后的操作
        console.log("socket 连接成功：" + JSON.stringify(event))
      };

      this.socket.onmessage = (event) => {
        let parse = JSON.parse(event.data);
        this.userNewsList = parse;
        let newsSums = 0;
        this.userNewsList.forEach(item => {
          newsSums += item.newsSum;
        })
        this.userNewsSum = newsSums;
      };
      this.socket.onclose = (event) => {
        //链接关闭操作
      };
    },

    handleScroll() {
      let scrollTop = document.documentElement.scrollTop
      let clientHeight = document.documentElement.clientHeight
      if (this.isConceal) {
        if (scrollTop > (clientHeight / 2)) {
          this.goTopLoading = true;
        } else {
          this.goTopLoading = false;
        }
      }
      if (scrollTop > (clientHeight / 2)) {
        this.goTopLoadingButton = true;
      } else {
        this.goTopLoadingButton = false;
      }
    },
  },
  mounted() {
    this.navigationFun();
    window.addEventListener('scroll', this.handleScroll, true);// 向页面添加滚动事件
  },
  created() {
    this.activeIndex = this.$route.path;
    this.gitUserInfo();
  },
  beforeDestroy() { //离开这个界面之后，删除滚动事件,
    window.removeEventListener('scroll', this.handleScroll, true)
  },

  watch: {
    $route(to) {
      this.activeIndex = to.path;
      // this.getLoginStatus();
    }
  }
}
</script>

<style>
@import url("../css/pc/navigation-bar-module.css");

/*搜索框历史记录*/
.el-autocomplete-suggestion li {
  font-size: 15px;
  float: left;
  padding: 8px 18px;
  line-height: 14px;
  border: 1px solid #dfe4ea;
  margin: 4px;
  border-radius: 20px;
  list-style-type: none;
}

/*搜索框样式*/
.search-div .el-input__inner {
  border-radius: 25px;
  //padding: 0px;
}

.el-menu--popup {
  padding: 0px;
}

.el-button {
  padding: 12px 14px;
}

.el-menu--horizontal > .el-menu-item {
  height: 58px;
  line-height: 58px;
  font-size: 16px;
}

.el-menu--horizontal > .el-submenu .el-submenu__title {
  font-size: 16px;
}

.nav-right-ul li {
  list-style-type: none;
}
</style>
